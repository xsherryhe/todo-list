(()=>{var t={798:function(t,e,n){t=n.nmd(t),function(n,o){"use strict";var i={};n.PubSub?(i=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=i,function(t){var e={},n=-1;function o(t,e,n){try{t(e,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,n){t(e,n)}function r(t,n,r,c){var s,d=e[n],u=c?i:o;if(Object.prototype.hasOwnProperty.call(e,n))for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&u(d[s],t,r)}function c(t){var n=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,n)&&function(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}(e[n]))}function s(t,e,n,o){var i=function(t,e,n){return function(){var o=String(t),i=o.lastIndexOf(".");for(r(t,t,e,n);-1!==i;)i=(o=o.substr(0,i)).lastIndexOf("."),r(t,o,e,n);r(t,"*",e,n)}}(t="symbol"==typeof t?t.toString():t,e,o);return!!function(t){for(var e=String(t),n=c(e)||c("*"),o=e.lastIndexOf(".");!n&&-1!==o;)o=(e=e.substr(0,o)).lastIndexOf("."),n=c(e);return n}(t)&&(!0===n?i():setTimeout(i,0),!0)}t.publish=function(e,n){return s(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return s(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,o){if("function"!=typeof o)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var i="uid_"+String(++n);return e[t][i]=o,i},t.subscribeAll=function(e){return t.subscribe("*",e)},t.subscribeOnce=function(e,n){var o=t.subscribe(e,(function(){t.unsubscribe(o),n.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&delete e[n]},t.countSubscriptions=function(t){var n,o,i=0;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)){for(o in e[n])i++;break}return i},t.getSubscriptions=function(t){var n,o=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&o.push(n);return o},t.unsubscribe=function(n){var o,i,r,c="string"==typeof n&&(Object.prototype.hasOwnProperty.call(e,n)||function(t){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t))return!0;return!1}(n)),s=!c&&"string"==typeof n,d="function"==typeof n,u=!1;if(!c){for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(i=e[o],s&&i[n]){delete i[n],u=n;break}if(d)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===n&&(delete i[r],u=!0)}return u}t.clearSubscriptions(n)}}(i)),void 0!==t&&t.exports&&(e=t.exports=i),e.PubSub=i,t.exports=e=i}("object"==typeof window&&window||this)}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var o={};(()=>{"use strict";n.d(o,{O:()=>q});var t={};n.r(t),n.d(t,{O:()=>q});var e=n(798),i=n.n(e);const r="initialize",c="dataInitialized",s="back",d=t=>`index.${t}`,u=t=>`new.${t}`,a=t=>`create.${t}`,l=t=>`show.${t}`,p=t=>`destroy.${t}`,b="updated",f=(t,e)=>`updated.${t}.${e}`,m=t=>`updated.${t}.belong`,y=t=>`updated.${t}.list`,h="rendered.page";function w(){}function O(t){}function j(){document.body.innerHTML="",function(){const t=document.createElement("h1"),e=document.createElement("h2"),n=document.createElement("button");t.textContent="Actionality",e.textContent="Your one-stop to-do app",n.classList.add("new"),n.dataset.type="todoItem",n.dataset.projectId=0,n.textContent="Add a New To-Do",document.body.append(t,e,n)}(),function(){const t=document.createElement("div"),e=document.createElement("h2"),n=document.createElement("button");e.textContent="My Projects",n.classList.add("new"),n.dataset.type="project",n.textContent="+",t.append(e,n),document.body.append(t)}(),q.projectsList.projects.forEach((t=>{const e=document.createElement("div"),n=document.createElement("button"),o=document.createElement("button"),i=document.createElement("ul");[n,o].forEach((e=>{e.dataset.type=t.type,e.dataset.id=t.id})),n.classList.add("show"),n.textContent=t.title,o.classList.add("destroy"),o.textContent="-",q.todoItemsList.withIds(t.todoItemIds).slice(0,2).forEach((t=>{const e=document.createElement("li");e.textContent=t.title,i.appendChild(e)})),e.appendChild(n),t.id&&e.appendChild(o),e.append(i),document.body.appendChild(e)})),i().publish(h,j),i().publish("rendered.view.index.project")}i().subscribe(r,function(t=w){return function(){const e=t()||{projectsList:[{id:0,title:"My To-Dos",todoItemIds:[1]}],todoItemsList:[{id:1,title:"Sample To-Do",priority:"low",status:"incomplete",dueDate:Date()}],checklistItemsList:[]};i().publish(c,e)}}(w)),i().subscribe(b,function(e=O){return function(){e(t.default)}}(O)),i().subscribe(d("project"),j),i().subscribe(u("project"),(function(){const t=document.querySelector('.new[data-type="project"]'),e=document.createElement("button"),n=document.createElement("form");e.classList.add("back"),e.textContent="Back",n.classList.add("new-form"),n.dataset.type="project",n.innerHTML='<label for="title">New Project</label>\n     <input type="text" name="title" id="title">\n     <button class="submit">Submit</button>',t.parentNode.append(e,n),t.remove(),i().publish(("project","rendered.view.new.project"))})),i().subscribe(l("project"),(function t(e,n){console.log("showProjectView"),document.body.innerHTML="";const o=q.projectsList.withId(n.id);(function(t){const e=document.createElement("button"),n=document.createElement("div"),o=document.createElement("button"),i=document.createElement("button");e.classList.add("index"),e.dataset.type=t.type,e.textContent="All Projects",o.classList.add("edit-title"),o.textContent=t.title,i.classList.add("new"),i.dataset.type="todoItem",i.dataset.projectId=t.id,i.textContent="+",n.append(o,i),document.body.append(e,n)})(o),function(t){q.todoItemsList.withIds(t.todoItemIds).forEach((t=>{const e=document.createElement("div"),n=document.createElement("button"),o=document.createElement("div"),i=document.createElement("button"),r=document.createElement("button");e.classList.add(t.priority),n.classList.add("edit-title"),n.textContent=t.title,o.innerHTML=`Due Date: <button class="edit-dueDate">${t.dueDate}</button>`,[i,r].forEach((e=>{e.dataset.type=t.type,e.dataset.id=t.id})),i.classList.add("show"),i.textContent="Expand",r.classList.add("destroy"),r.textContent="-",e.append(n,o,i,r),document.body.append(e)}))}(o),i().publish(h,t.bind(null,e,n)),i().publish(("project","rendered.view.show.project"))})),i().subscribe(u("todoItem"),(function(){console.log("newTodoItemView")})),i().subscribe(l("todoItem"),(function(t,e){console.log("showTodoItemView")}));let g=j;function x(){document.body.innerHTML="",g()}i().subscribe(h,(function(t,e){g=e})),i().subscribe(b,x),i().subscribe(s,x);const v=()=>document.querySelector(".new-form");function I(t,e){t.forEach((t=>{const n=t.cloneNode(!0);t.replaceWith(n),n.addEventListener("click",(t=>i().publish(e(t.target.dataset.type),t.target.dataset)))}))}function E(t){i().subscribe(`update.${t.type}.${t.id}`,(function(e,n){for(key in n)t[attribute]=n[attribute];i().publish(f(t.type,t.id))}))}function S(t){const e=["incomplete","complete"];i().subscribe(`update.${t.type}.status.${t.id}`,(function(){t.status=e[(e.indexOf(t.status)+1)%e.length],i().publish(f(t.type,t.id))}))}function L(t){const e=["low","medium","high"];i().subscribe(`update.${t.type}.priority.${t.id}`,(function(n,o){t.priority=e[Math.max(Math.min(e.indexOf(t.priority)+o,0),e.length-1)],i().publish(f(t.type,t.id))}))}function P(t,e){const n=e+"Ids";t[n]||=[],i().subscribe(y(e),(function(e,o){const i=o?.[t.type]?.[t.id];i&&(t[n]=i)}))}function T(t,e){t.belongs||={[e]:0}}function C(t,e){i().subscribe(((t,e,n)=>`update.${t}.belong.${n}.${e}`)(t.type,t.id,e),(function(n,o){const r=t.belongs[e],c=o.belongId;t.belongs[e]=c,i().publish(m(t.type),{id:t.id,belongType:e,oldBelongId:r,newBelongId:c})}))}function $(t,e=[]){let n=1;const o=t.itemType+"s";function r(e){const n=Object.entries(e.belongs||{}).reduce(((e,[n,i])=>Object.assign(e,{[n]:{[i]:t[o].filter((t=>t.belongs[n]==i))}})),{});i().publish(y(t.itemType),n)}t[o]||=e.map((e=>t.itemFactory(Object.assign({id:n++},e)))),t.withId=function(e){return t[o].find((t=>e==t.id))},t.withIds=function(e){return t[o].filter((t=>e.includes(t.id)))},i().subscribe(m(t.itemType),(function(e,n){const r=n.belongType,c=n.oldBelongId,s=n.newBelongId;t[o].find((t=>t.id==n.id)).belongs[r]=s,i().publish(y(t.itemType),{[r]:{[c]:t[o].filter((t=>t.belongs[r]==c)).map((t=>t.id)),[s]:t[o].filter((t=>t.belongs[r]==s)).map((t=>t.id))}})})),i().subscribe(a(t.itemType),(function(e,i){const c=t.itemFactory(Object.assign({id:n++},i));t[o].unshift(c),r(c)})),i().subscribe(p(t.itemType),(function(e,n){if(0==n.id)return;const i=t[o].find((t=>t.id==n.id));t[o].splice(t[o].indexOf(i),1),r(i)}))}function k(t){const e=Object.assign({type:"project"},t);return E(e),P(e,"todoItem"),e}function M(t){const e=Object.assign({type:"todoItem"},t);return[E,S,L].forEach((t=>t(e))),[T,C].forEach((t=>t(e,"project"))),P(e,"checklistItem"),e}function D(t){const e=Object.assign({type:"checklistItem"},t);return[E,S].forEach((t=>t(e))),T(e,"todoItem"),e}i().subscribe("rendered.view",(function(){I(document.querySelectorAll(".index"),d),I(document.querySelectorAll(".new"),u),I(document.querySelectorAll(".show"),l),I(document.querySelectorAll(".destroy"),p)})),i().subscribe("rendered.view.new",(function(){document.querySelector(".back").addEventListener("click",(()=>i().publish(s))),document.querySelector(".submit").addEventListener("click",(t=>{t.preventDefault(),i().publish(a(v().dataset.type),Object.fromEntries(new FormData(v())))}))}));const A={ProjectsList:function(t){const e={itemFactory:k,itemType:"project"};return $(e,t),e},TodoItemsList:function(t){const e={itemFactory:M,itemType:"todoItem"};return $(e,t),e},ChecklistItemsList:function(t){const e={itemFactory:D,itemType:"checklistItem"};return $(e,t),e}};let q={};i().subscribe(c,(function(t,e){for(const t in e)q[t]=A[t[0].toUpperCase()+t.slice(1)](e[t]);i().publish(b)})),i().publish(r)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiNENBT0MsU0FBVUEsRUFBTUMsR0FDYixhQUVBLElBQUlDLEVBQVMsQ0FBQyxFQUVWRixFQUFLRSxRQUNMQSxFQUFTRixFQUFLRSxPQUNkQyxRQUFRQyxLQUFLLG1EQUViSixFQUFLRSxPQUFTQSxFQWtCOEIsU0FBVUEsR0FHMUQsSUFBSUcsRUFBVyxDQUFDLEVBQ1pDLEdBQVcsRUEwQmYsU0FBU0MsRUFBcUNDLEVBQVlDLEVBQVNDLEdBQy9ELElBQ0lGLEVBQVlDLEVBQVNDLEVBR3pCLENBRkUsTUFBT0MsR0FDTEMsV0FWUixTQUF5QkQsR0FDckIsT0FBTyxXQUNILE1BQU1BLENBQ1YsQ0FDSixDQU1vQkUsQ0FBZ0JGLEdBQU0sRUFDdEMsQ0FDSixDQUVBLFNBQVNHLEVBQXVDTixFQUFZQyxFQUFTQyxHQUNqRUYsRUFBWUMsRUFBU0MsRUFDekIsQ0FFQSxTQUFTSyxFQUFnQkMsRUFBaUJDLEVBQWdCUCxFQUFNUSxHQUM1RCxJQUVJQyxFQUZBQyxFQUFjZixFQUFTWSxHQUN2QkksRUFBaUJILEVBQXNCSixFQUF3Q1AsRUFHbkYsR0FBTWUsT0FBT0MsVUFBVUMsZUFBZUMsS0FBTXBCLEVBQVVZLEdBSXRELElBQUtFLEtBQUtDLEVBQ0RFLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtMLEVBQWFELElBQ25ERSxFQUFnQkQsRUFBWUQsR0FBSUgsRUFBaUJOLEVBRzdELENBcUJBLFNBQVNnQixFQUF5QmpCLEdBQzlCLElBQUlrQixFQUFRQyxPQUFRbkIsR0FHcEIsT0FGWW9CLFFBQVFQLE9BQU9DLFVBQVVDLGVBQWVDLEtBQU1wQixFQUFVc0IsSUF4RXhFLFNBQWlCRyxHQUNiLElBQUlDLEVBRUosSUFBS0EsS0FBT0QsRUFDUixHQUFLUixPQUFPQyxVQUFVQyxlQUFlQyxLQUFLSyxFQUFLQyxHQUMzQyxPQUFPLEVBR2YsT0FBTyxDQUNYLENBK0RtRkMsQ0FBUTNCLEVBQVNzQixJQUdwRyxDQWdCQSxTQUFTTSxFQUFTeEIsRUFBU0MsRUFBTXdCLEVBQU1oQixHQUduQyxJQUFJaUIsRUEzQ1IsU0FBaUMxQixFQUFTQyxFQUFNUSxHQUM1QyxPQUFPLFdBQ0gsSUFBSVMsRUFBUUMsT0FBUW5CLEdBQ2hCMkIsRUFBV1QsRUFBTVUsWUFBYSxLQU1sQyxJQUhBdEIsRUFBZU4sRUFBU0EsRUFBU0MsRUFBTVEsSUFHbEIsSUFBZGtCLEdBRUhBLEdBREFULEVBQVFBLEVBQU1XLE9BQVEsRUFBR0YsSUFDUkMsWUFBWSxLQUM3QnRCLEVBQWdCTixFQUFTa0IsRUFBT2pCLEVBQU1RLEdBRzFDSCxFQUFlTixFQXBFRyxJQW9FMkJDLEVBQU1RLEVBQ3ZELENBQ0osQ0EwQmtCcUIsQ0FGZDlCLEVBQThCLGlCQUFaQSxFQUF3QkEsRUFBUStCLFdBQWEvQixFQUVoQkMsRUFBTVEsR0FHckQsUUFwQkosU0FBZ0NULEdBSzVCLElBSkEsSUFBSWtCLEVBQVFDLE9BQVFuQixHQUNoQmdDLEVBQVFmLEVBQXdCQyxJQUFVRCxFQWpGeEIsS0FrRmxCVSxFQUFXVCxFQUFNVSxZQUFhLE1BRXpCSSxJQUF1QixJQUFkTCxHQUVkQSxHQURBVCxFQUFRQSxFQUFNVyxPQUFRLEVBQUdGLElBQ1JDLFlBQWEsS0FDOUJJLEVBQVFmLEVBQXdCQyxHQUdwQyxPQUFPYyxDQUNYLENBTXlCQyxDQUF1QmpDLE1BTTlCLElBQVR5QixFQUNEQyxJQUVBdkIsV0FBWXVCLEVBQVMsSUFFbEIsRUFDWCxDQVVBakMsRUFBTytCLFFBQVUsU0FBVXhCLEVBQVNDLEdBQ2hDLE9BQU91QixFQUFTeEIsRUFBU0MsR0FBTSxFQUFPUixFQUFPZ0Isb0JBQ2pELEVBVUFoQixFQUFPeUMsWUFBYyxTQUFVbEMsRUFBU0MsR0FDcEMsT0FBT3VCLEVBQVN4QixFQUFTQyxHQUFNLEVBQU1SLEVBQU9nQixvQkFDaEQsRUFVQWhCLEVBQU8wQyxVQUFZLFNBQVVuQyxFQUFTb0MsR0FDbEMsR0FBcUIsbUJBQVRBLEVBQ1IsT0FBTyxFQUdYcEMsRUFBOEIsaUJBQVpBLEVBQXdCQSxFQUFRK0IsV0FBYS9CLEVBR3pEYSxPQUFPQyxVQUFVQyxlQUFlQyxLQUFNcEIsRUFBVUksS0FDbERKLEVBQVNJLEdBQVcsQ0FBQyxHQUt6QixJQUFJcUMsRUFBUSxPQUFTbEIsU0FBU3RCLEdBSTlCLE9BSEFELEVBQVNJLEdBQVNxQyxHQUFTRCxFQUdwQkMsQ0FDWCxFQUVBNUMsRUFBTzZDLGFBQWUsU0FBVUYsR0FDNUIsT0FBTzNDLEVBQU8wQyxVQXJLUSxJQXFLdUJDLEVBQ2pELEVBVUEzQyxFQUFPOEMsY0FBZ0IsU0FBVXZDLEVBQVNvQyxHQUN0QyxJQUFJQyxFQUFRNUMsRUFBTzBDLFVBQVduQyxHQUFTLFdBRW5DUCxFQUFPK0MsWUFBYUgsR0FDcEJELEVBQUtLLE1BQU9DLEtBQU1DLFVBQ3RCLElBQ0EsT0FBT2xELENBQ1gsRUFRQUEsRUFBT21ELHNCQUF3QixXQUMzQmhELEVBQVcsQ0FBQyxDQUNoQixFQVNBSCxFQUFPb0QsbUJBQXFCLFNBQTRCM0IsR0FDcEQsSUFBSTRCLEVBQ0osSUFBS0EsS0FBS2xELEVBQ0ZpQixPQUFPQyxVQUFVQyxlQUFlQyxLQUFLcEIsRUFBVWtELElBQTJCLElBQXJCQSxFQUFFQyxRQUFRN0IsV0FDeER0QixFQUFTa0QsRUFHNUIsRUFTQXJELEVBQU91RCxtQkFBcUIsU0FBNEI5QixHQUNwRCxJQUFJNEIsRUFFQVQsRUFDQVksRUFBUSxFQUNaLElBQUtILEtBQUtsRCxFQUNOLEdBQUlpQixPQUFPQyxVQUFVQyxlQUFlQyxLQUFLcEIsRUFBVWtELElBQTJCLElBQXJCQSxFQUFFQyxRQUFRN0IsR0FBYyxDQUM3RSxJQUFLbUIsS0FBU3pDLEVBQVNrRCxHQUNuQkcsSUFFSixLQUNKLENBRUosT0FBT0EsQ0FDWCxFQVNBeEQsRUFBT3lELGlCQUFtQixTQUEwQmhDLEdBQ2hELElBQUk0QixFQUNBSyxFQUFPLEdBQ1gsSUFBS0wsS0FBS2xELEVBQ0ZpQixPQUFPQyxVQUFVQyxlQUFlQyxLQUFLcEIsRUFBVWtELElBQTJCLElBQXJCQSxFQUFFQyxRQUFRN0IsSUFDL0RpQyxFQUFLQyxLQUFLTixHQUdsQixPQUFPSyxDQUNYLEVBc0JBMUQsRUFBTytDLFlBQWMsU0FBU2EsR0FDMUIsSUFlSVAsRUFBRzlDLEVBQVNzRCxFQUpaQyxFQUE4QixpQkFBVkYsSUFBd0J4QyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLcEIsRUFBVXlELElBWG5FLFNBQVNuQyxHQUM3QixJQUFJNEIsRUFDSixJQUFNQSxLQUFLbEQsRUFDUCxHQUFLaUIsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS3BCLEVBQVVrRCxJQUEyQixJQUFyQkEsRUFBRUMsUUFBUTdCLEdBRWhFLE9BQU8sRUFJZixPQUFPLENBQ1gsQ0FDcUdzQyxDQUFzQkgsSUFDM0hJLEdBQWNGLEdBQTRCLGlCQUFWRixFQUNoQ0ssRUFBOEIsbUJBQVZMLEVBQ3BCTSxHQUFTLEVBR2IsSUFBSUosRUFBSixDQUtBLElBQU1ULEtBQUtsRCxFQUNQLEdBQUtpQixPQUFPQyxVQUFVQyxlQUFlQyxLQUFNcEIsRUFBVWtELEdBQUssQ0FHdEQsR0FGQTlDLEVBQVVKLEVBQVNrRCxHQUVkVyxHQUFXekQsRUFBUXFELEdBQVEsUUFDckJyRCxFQUFRcUQsR0FDZk0sRUFBU04sRUFFVCxLQUNKLENBRUEsR0FBSUssRUFDQSxJQUFNSixLQUFLdEQsRUFDSGEsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS2hCLEVBQVNzRCxJQUFNdEQsRUFBUXNELEtBQU9ELFdBQzVEckQsRUFBUXNELEdBQ2ZLLEdBQVMsRUFJekIsQ0FHSixPQUFPQSxDQXhCUCxDQUZJbEUsRUFBT29ELG1CQUFtQlEsRUEyQmxDLENBQ0osQ0FyVlE3RCxDQUFRQyxTQUlPbUUsSUFBWEMsR0FBd0JBLEVBQU9DLFVBQy9CQSxFQUFVRCxFQUFPQyxRQUFVckUsR0FFL0JxRSxFQUFRckUsT0FBU0EsRUFDakJvRSxFQUFPQyxRQUFVQSxFQUFVckUsQ0FTbkMsQ0EzQkEsQ0EyQnNCLGlCQUFYc0UsUUFBdUJBLFFBQVlyQixLLEdDakMxQ3NCLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQk4sSUFBakJPLEVBQ0gsT0FBT0EsRUFBYUwsUUFHckIsSUFBSUQsRUFBU0csRUFBeUJFLEdBQVksQ0FDakRFLEdBQUlGLEVBQ0pHLFFBQVEsRUFDUlAsUUFBUyxDQUFDLEdBVVgsT0FOQVEsRUFBb0JKLEdBQVVsRCxLQUFLNkMsRUFBT0MsUUFBU0QsRUFBUUEsRUFBT0MsUUFBU0csR0FHM0VKLEVBQU9RLFFBQVMsRUFHVFIsRUFBT0MsT0FDZixDQ3hCQUcsRUFBb0JNLEVBQUtWLElBQ3hCLElBQUlXLEVBQVNYLEdBQVVBLEVBQU9ZLFdBQzdCLElBQU9aLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBSSxFQUFvQlMsRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsQ0FBTSxFQ0xkUCxFQUFvQlMsRUFBSSxDQUFDWixFQUFTYyxLQUNqQyxJQUFJLElBQUl0RCxLQUFPc0QsRUFDWFgsRUFBb0JZLEVBQUVELEVBQVl0RCxLQUFTMkMsRUFBb0JZLEVBQUVmLEVBQVN4QyxJQUM1RVQsT0FBT2lFLGVBQWVoQixFQUFTeEMsRUFBSyxDQUFFeUQsWUFBWSxFQUFNQyxJQUFLSixFQUFXdEQsSUFFMUUsRUNORDJDLEVBQW9CWSxFQUFJLENBQUN4RCxFQUFLNEQsSUFBVXBFLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtLLEVBQUs0RCxHQ0NsRmhCLEVBQW9CaUIsRUFBS3BCLElBQ0gsb0JBQVhxQixRQUEwQkEsT0FBT0MsYUFDMUN2RSxPQUFPaUUsZUFBZWhCLEVBQVNxQixPQUFPQyxZQUFhLENBQUUvQixNQUFPLFdBRTdEeEMsT0FBT2lFLGVBQWVoQixFQUFTLGFBQWMsQ0FBRVQsT0FBTyxHQUFPLEVDTDlEWSxFQUFvQm9CLElBQU94QixJQUMxQkEsRUFBT3lCLE1BQVEsR0FDVnpCLEVBQU8wQixXQUFVMUIsRUFBTzBCLFNBQVcsSUFDakMxQixHLG9HQ0hELE1BQU0yQixFQUFhLGFBQ2JDLEVBQW1CLGtCQUVuQkMsRUFBTyxPQUNQQyxFQUFRQyxHQUFRLFNBQVNBLElBQ3pCQyxFQUFNRCxHQUFRLE9BQU9BLElBQ3JCRSxFQUFTRixHQUFRLFVBQVVBLElBQzNCRyxFQUFPSCxHQUFRLFFBQVFBLElBQ3ZCSSxFQUFVSixHQUFRLFdBQVdBLElBTzdCSyxFQUFjLFVBQ2RDLEVBQVUsQ0FBQ04sRUFBTXhCLElBQU8sV0FBV3dCLEtBQVF4QixJQUMzQytCLEVBQWlCUCxHQUFRLFdBQVdBLFdBQ3BDUSxFQUFlUixHQUFRLFdBQVdBLFNBRWxDUyxFQUFnQixnQkNwQnRCLFNBQVNDLElBRWhCLENBRU8sU0FBU0MsRUFBU3RHLEdBRXpCLENDQWUsU0FBU3VHLElBQ3RCQyxTQUFTQyxLQUFLQyxVQUFZLEdBTzVCLFdBQ0UsTUFBTUMsRUFBaUJILFNBQVNJLGNBQWMsTUFDeENDLEVBQWdCTCxTQUFTSSxjQUFjLE1BQ3ZDRSxFQUFvQk4sU0FBU0ksY0FBYyxVQUNqREQsRUFBZUksWUFBYyxjQUM3QkYsRUFBY0UsWUFBYywwQkFDNUJELEVBQWtCRSxVQUFVQyxJQUFJLE9BQ2hDSCxFQUFrQkksUUFBUXZCLEtBQU8sV0FDakNtQixFQUFrQkksUUFBUUMsVUFBWSxFQUN0Q0wsRUFBa0JDLFlBQWMsa0JBRWhDUCxTQUFTQyxLQUFLVyxPQUFPVCxFQUFnQkUsRUFBZUMsRUFDdEQsQ0FsQkVPLEdBeUJGLFdBQ0UsTUFBTUMsRUFBeUJkLFNBQVNJLGNBQWMsT0FDaERXLEVBQTZCZixTQUFTSSxjQUFjLE1BQ3BEWSxFQUFtQmhCLFNBQVNJLGNBQWMsVUFFaERXLEVBQTJCUixZQUFjLGNBQ3pDUyxFQUFpQlIsVUFBVUMsSUFBSSxPQUMvQk8sRUFBaUJOLFFBQVF2QixLQUFPLFVBQ2hDNkIsRUFBaUJULFlBQWMsSUFFL0JPLEVBQXVCRixPQUFPRyxFQUE0QkMsR0FDMURoQixTQUFTQyxLQUFLVyxPQUFPRSxFQUN2QixDQWhCRUcsR0FtQkEsaUNBQXlDQyxJQUN2QyxNQUFNQyxFQUFpQm5CLFNBQVNJLGNBQWMsT0FDeENnQixFQUFhcEIsU0FBU0ksY0FBYyxVQUNwQ2lCLEVBQWdCckIsU0FBU0ksY0FBYyxVQUN2Q2tCLEVBQWlCdEIsU0FBU0ksY0FBYyxNQUU5QyxDQUFDZ0IsRUFBWUMsR0FBZUUsU0FBUUMsSUFDbENBLEVBQU9kLFFBQVF2QixLQUFPK0IsRUFBUS9CLEtBQzlCcUMsRUFBT2QsUUFBUS9DLEdBQUt1RCxFQUFRdkQsRUFBRSxJQUVoQ3lELEVBQVdaLFVBQVVDLElBQUksUUFDekJXLEVBQVdiLFlBQWNXLEVBQVFPLE1BQ2pDSixFQUFjYixVQUFVQyxJQUFJLFdBQzVCWSxFQUFjZCxZQUFjLElBRTVCLHdCQUFpQ1csRUFBUVEsYUFDOUJDLE1BQU0sRUNoRUssR0RnRW1CSixTQUFRSyxJQUMvQyxNQUFNQyxFQUFrQjdCLFNBQVNJLGNBQWMsTUFDL0N5QixFQUFnQnRCLFlBQWNxQixFQUFTSCxNQUN2Q0gsRUFBZVEsWUFBWUQsRUFBZ0IsSUFHN0NWLEVBQWVXLFlBQVlWLEdBQ3ZCRixFQUFRdkQsSUFBSXdELEVBQWVXLFlBQVlULEdBQzNDRixFQUFlUCxPQUFPVSxHQUN0QnRCLFNBQVNDLEtBQUs2QixZQUFZWCxFQUFlLElBL0QzQyxZQUFldkIsRUFBZUcsR0FDOUIsWUZZb0MsOEJFWHRDLENFTkEsY0FBaUJoQixFQUNqQixTQUEwQmdELEVBQVksR0FDcEMsT0FBTyxXQUNMLE1BQU1DLEVBQWNELEtBQ3BCLENBQUVFLGFBQWMsQ0FBQyxDQUFFdEUsR0FBSSxFQUFHOEQsTUFBTyxZQUFhQyxZQUFhLENBQUMsS0FDMURRLGNBQWUsQ0FBQyxDQUFFdkUsR0FBSSxFQUFHOEQsTUFBTyxlQUFnQlUsU0FBVSxNQUFPQyxPQUFRLGFBQWNDLFFBQVNDLFNBQ2hHQyxtQkFBb0IsSUFDdEIsWUFBZXZELEVBQWtCZ0QsRUFDbkMsQ0FDRixDQVQ2QlEsQ0FBaUIsSUFXOUMsY0FBaUJoRCxFQUNqQixTQUFvQmlELEVBQWEsR0FDL0IsT0FBTyxXQUNMQSxFQUFXLFVBQ2IsQ0FDRixDQUw4QkEsQ0FBVyxJRlp6QyxjQUFpQnZELEVBQU0sV0FBWWEsR0dGbkMsY0FBaUJYLEVBQUksWUFDTixXQUNiLE1BQU1zRCxFQUFtQjFDLFNBQVMyQyxjQUFjLDZCQUMxQ0MsRUFBYTVDLFNBQVNJLGNBQWMsVUFDcEN5QyxFQUFxQjdDLFNBQVNJLGNBQWMsUUFDbER3QyxFQUFXcEMsVUFBVUMsSUFBSSxRQUN6Qm1DLEVBQVdyQyxZQUFjLE9BQ3pCc0MsRUFBbUJyQyxVQUFVQyxJQUFJLFlBQ2pDb0MsRUFBbUJuQyxRQUFRdkIsS0FBTyxVQUNsQzBELEVBQW1CM0MsVUFDakIsd0lBSUZ3QyxFQUFpQkksV0FBV2xDLE9BQU9nQyxFQUFZQyxHQUMvQ0gsRUFBaUJLLFNBQ2pCLGFBQTRCLFVMTU0sNkJLTHBDLElDaEJBLGNBQWlCekQsRUFBSyxZQUVQLFNBQVMwRCxFQUFnQkMsRUFBR3pKLEdBQ3pDUCxRQUFRaUssSUFBSSxtQkFDWmxELFNBQVNDLEtBQUtDLFVBQVksR0FDMUIsTUFBTWdCLEVBQVUsc0JBQStCMUgsRUFBS21FLEtBT3RELFNBQXNCdUQsR0FDcEIsTUFBTWlDLEVBQWNuRCxTQUFTSSxjQUFjLFVBQ3JDRCxFQUFpQkgsU0FBU0ksY0FBYyxPQUN4Q2dELEVBQWFwRCxTQUFTSSxjQUFjLFVBQ3BDRSxFQUFvQk4sU0FBU0ksY0FBYyxVQUNqRCtDLEVBQVkzQyxVQUFVQyxJQUFJLFNBQzFCMEMsRUFBWXpDLFFBQVF2QixLQUFPK0IsRUFBUS9CLEtBQ25DZ0UsRUFBWTVDLFlBQWMsZUFDMUI2QyxFQUFXNUMsVUFBVUMsSUFBSSxjQUN6QjJDLEVBQVc3QyxZQUFjVyxFQUFRTyxNQUNqQ25CLEVBQWtCRSxVQUFVQyxJQUFJLE9BQ2hDSCxFQUFrQkksUUFBUXZCLEtBQU8sV0FDakNtQixFQUFrQkksUUFBUUMsVUFBWU8sRUFBUXZELEdBQzlDMkMsRUFBa0JDLFlBQWMsSUFFaENKLEVBQWVTLE9BQU93QyxFQUFZOUMsR0FDbENOLFNBQVNDLEtBQUtXLE9BQU91QyxFQUFhaEQsRUFDcEMsRUF2QkUsQ0FBYWUsR0F5QmYsU0FBMEJBLEdBQ3hCLHdCQUFpQ0EsRUFBUVEsYUFBYUgsU0FBUUssSUFDNUQsTUFBTUMsRUFBa0I3QixTQUFTSSxjQUFjLE9BQ3pDaUQsRUFBa0JyRCxTQUFTSSxjQUFjLFVBQ3pDa0QsRUFBaUJ0RCxTQUFTSSxjQUFjLE9BQ3hDZ0IsRUFBYXBCLFNBQVNJLGNBQWMsVUFDcENpQixFQUFnQnJCLFNBQVNJLGNBQWMsVUFDN0N5QixFQUFnQnJCLFVBQVVDLElBQUltQixFQUFTTyxVQUN2Q2tCLEVBQWdCN0MsVUFBVUMsSUFBSSxjQUM5QjRDLEVBQWdCOUMsWUFBY3FCLEVBQVNILE1BQ3ZDNkIsRUFBZXBELFVBQ2IsMENBQTBDMEIsRUFBU1MsbUJBRXJELENBQUNqQixFQUFZQyxHQUFlRSxTQUFRQyxJQUNsQ0EsRUFBT2QsUUFBUXZCLEtBQU95QyxFQUFTekMsS0FDL0JxQyxFQUFPZCxRQUFRL0MsR0FBS2lFLEVBQVNqRSxFQUFFLElBRWpDeUQsRUFBV1osVUFBVUMsSUFBSSxRQUN6QlcsRUFBV2IsWUFBYyxTQUN6QmMsRUFBY2IsVUFBVUMsSUFBSSxXQUM1QlksRUFBY2QsWUFBYyxJQUU1QnNCLEVBQWdCakIsT0FBT3lDLEVBQWlCQyxFQUFnQmxDLEVBQVlDLEdBQ3BFckIsU0FBU0MsS0FBS1csT0FBT2lCLEVBQWdCLEdBRXpDLENBakRFMEIsQ0FBaUJyQyxHQUNqQixZQUFldEIsRUFBZW9ELEVBQWdCUSxLQUFLLEtBQU1QLEVBQUd6SixJQUM1RCxhQUE2QixVTmNNLDhCTWJyQyxJQ1hBLGNBQWlCNEYsRUFBSSxhQUdyQixXQUNFbkcsUUFBUWlLLElBQUksa0JBQ2QsSUNKQSxjQUFpQjVELEVBQUssYUFFUCxTQUEwQjJELEVBQUd6SixHQUMxQ1AsUUFBUWlLLElBQUksbUJBQ2QsSUNFQSxJQUFJTyxFQUFlLEVBU25CLFNBQVNDLElBQ1AxRCxTQUFTQyxLQUFLQyxVQUFZLEdBQzFCdUQsR0FDRixDQVZBLGNBQWlCN0QsR0FDakIsU0FBeUJxRCxFQUFHVSxHQUMxQkYsRUFBZUUsQ0FDakIsSUFFQSxjQUFpQm5FLEVBQWFrRSxHQUM5QixjQUFpQnpFLEVBQU15RSxHQ2R2QixNQUtNRSxFQUFVLElBQU01RCxTQUFTMkMsY0FBYyxhQUc3QyxTQUFTa0IsRUFBYUMsRUFBU0MsR0FDN0JELEVBQVF2QyxTQUFRQyxJQUNkLE1BQU13QyxFQUFnQnhDLEVBQU95QyxXQUFVLEdBQ3ZDekMsRUFBTzBDLFlBQVlGLEdBQ25CQSxFQUFjRyxpQkFBaUIsU0FBU0MsR0FBSyxZQUFlTCxFQUFZSyxFQUFFQyxPQUFPM0QsUUFBUXZCLE1BQU9pRixFQUFFQyxPQUFPM0QsVUFBUyxHQUV0SCxDQ2RPLFNBQVM0RCxFQUFVMUosR0FDeEIsY1hLa0MsVVdMVkEsRUFBSXVFLFFBQU12RSxFQUFJK0MsTUFDdEMsU0FBZ0JzRixFQUFHekosR0FDakIsSUFBSXFCLE9BQU9yQixFQUFNb0IsRUFBSTJKLFdBQWEvSyxFQUFLK0ssV0FDdkMsWUFBZTlFLEVBQVE3RSxFQUFJdUUsS0FBTXZFLEVBQUkrQyxJQUN2QyxHQUNGLENBRU8sU0FBUzZHLEVBQVc1SixHQUN6QixNQUFNNkosRUFBVyxDQUFDLGFBQWMsWUFDaEMsY1hIeUMsVVdHVjdKLEVBQUl1RSxlQUFNdkUsRUFBSStDLE1BQzdDLFdBQ0UvQyxFQUFJd0gsT0FBU3FDLEdBQVVBLEVBQVNuSSxRQUFRMUIsRUFBSXdILFFBQVUsR0FBS3FDLEVBQVNDLFFBQ3BFLFlBQWVqRixFQUFRN0UsRUFBSXVFLEtBQU12RSxFQUFJK0MsSUFDdkMsR0FDRixDQUVPLFNBQVNnSCxFQUFjL0osR0FDNUIsTUFBTWdLLEVBQWEsQ0FBQyxNQUFPLFNBQVUsUUFDckMsY1hYMkMsVVdXVmhLLEVBQUl1RSxpQkFBTXZFLEVBQUkrQyxNQUMvQyxTQUF3QnNGLEVBQUd6SixHQUN6Qm9CLEVBQUl1SCxTQUFXeUMsRUFBV0MsS0FBS0MsSUFBSUQsS0FBS0UsSUFBSUgsRUFBV3RJLFFBQVExQixFQUFJdUgsVUFBWTNJLEVBQU0sR0FBSW9MLEVBQVdGLE9BQVMsSUFDN0csWUFBZWpGLEVBQVE3RSxFQUFJdUUsS0FBTXZFLEVBQUkrQyxJQUN2QyxHQUNGLENBRU8sU0FBU3FILEVBQWVwSyxFQUFLcUssR0FDbEMsTUFBTUMsRUFBYUQsRUFBaUIsTUFDcENySyxFQUFJc0ssS0FBZ0IsR0FFcEIsY0FBaUJ2RixFQUFhc0YsSUFDOUIsU0FBK0JoQyxFQUFHekosR0FDaEMsTUFBTTJMLEVBQXFCM0wsSUFBT29CLEVBQUl1RSxRQUFRdkUsRUFBSStDLElBQy9Dd0gsSUFBb0J2SyxFQUFJc0ssR0FBY0MsRUFDM0MsR0FDRixDQUdPLFNBQVNDLEVBQVd4SyxFQUFLeUssR0FDOUJ6SyxFQUFJMEssVUFBWSxDQUFFLENBQUNELEdBQWEsRUFHbEMsQ0FFTyxTQUFTRSxFQUFnQjNLLEVBQUt5SyxHQUNuQyxjWHBDMkIsRUFBQ2xHLEVBQU14QixFQUFJMEgsSUFBZSxVQUFVbEcsWUFBZWtHLEtBQWMxSCxJV29DM0U2SCxDQUFjNUssRUFBSXVFLEtBQU12RSxFQUFJK0MsR0FBSTBILElBQ2pELFNBQXNCcEMsRUFBR3pKLEdBQ3ZCLE1BQU1pTSxFQUFjN0ssRUFBSTBLLFFBQVFELEdBQzFCSyxFQUFjbE0sRUFBS21NLFNBQ3pCL0ssRUFBSTBLLFFBQVFELEdBQWNLLEVBQzFCLFlBQWVoRyxFQUFlOUUsRUFBSXVFLE1BQU8sQ0FBRXhCLEdBQUkvQyxFQUFJK0MsR0FBSTBILGFBQVlJLGNBQWFDLGVBQ2xGLEdBQ0YsQ0FFTyxTQUFTRSxFQUFTaEwsRUFBS2lMLEVBQWMsSUFDMUMsSUFBSUMsRUFBUyxFQUNiLE1BQU1wSixFQUFPOUIsRUFBSW1MLFNBQVcsSUF1QzVCLFNBQVNDLEVBQWlDQyxHQUN4QyxNQUFNQyxFQUFhOUwsT0FBTytMLFFBQVFGLEVBQUtYLFNBQVcsQ0FBQyxHQUFHYyxRQUFPLENBQUM1TSxHQUFPNkwsRUFBWU0sS0FDL0V2TCxPQUFPaU0sT0FBTzdNLEVBQ1osQ0FDRSxDQUFDNkwsR0FBYSxDQUNaLENBQUNNLEdBQVcvSyxFQUFJOEIsR0FBTTRKLFFBQU9MLEdBQVFBLEVBQUtYLFFBQVFELElBQWVNLFFBRWpFLENBQUMsR0FDVCxZQUFlaEcsRUFBYS9FLEVBQUltTCxVQUFXRyxFQUM3QyxDQS9DQXRMLEVBQUk4QixLQUFVbUosRUFBWVUsS0FBSUMsR0FBVzVMLEVBQUk2TCxZQUFZck0sT0FBT2lNLE9BQU8sQ0FBRTFJLEdBQUltSSxLQUFZVSxNQUV6RjVMLEVBQUk4TCxPQUFTLFNBQVMvSSxHQUNwQixPQUFPL0MsRUFBSThCLEdBQU1pSyxNQUFLVixHQUFRdEksR0FBTXNJLEVBQUt0SSxJQUMzQyxFQUVBL0MsRUFBSWdNLFFBQVUsU0FBU0MsR0FDckIsT0FBT2pNLEVBQUk4QixHQUFNNEosUUFBT0wsR0FBUVksRUFBSUMsU0FBU2IsRUFBS3RJLEtBQ3BELEVBRUEsY0FBaUIrQixFQUFlOUUsRUFBSW1MLFdBQ3BDLFNBQTJCOUMsRUFBR3pKLEdBQzVCLE1BQU02TCxFQUFhN0wsRUFBSzZMLFdBQVlJLEVBQWNqTSxFQUFLaU0sWUFBYUMsRUFBY2xNLEVBQUtrTSxZQUMxRTlLLEVBQUk4QixHQUFNaUssTUFBS1YsR0FBUUEsRUFBS3RJLElBQU1uRSxFQUFLbUUsS0FDL0MySCxRQUFRRCxHQUFjSyxFQUMzQixZQUFlL0YsRUFBYS9FLEVBQUltTCxVQUNsQixDQUFFLENBQUNWLEdBQWEsQ0FDWixDQUFDSSxHQUFjN0ssRUFBSThCLEdBQU00SixRQUFPTCxHQUFRQSxFQUFLWCxRQUFRRCxJQUFlSSxJQUFhYyxLQUFJTixHQUFRQSxFQUFLdEksS0FDbEcsQ0FBQytILEdBQWM5SyxFQUFJOEIsR0FBTTRKLFFBQU9MLEdBQVFBLEVBQUtYLFFBQVFELElBQWVLLElBQWFhLEtBQUlOLEdBQVFBLEVBQUt0SSxPQUV0SCxJQUVBLGNBQWlCMEIsRUFBT3pFLEVBQUltTCxXQUM1QixTQUF3QjlDLEVBQUd6SixHQUN6QixNQUFNdU4sRUFBY25NLEVBQUk2TCxZQUFZck0sT0FBT2lNLE9BQU8sQ0FBRTFJLEdBQUltSSxLQUFZdE0sSUFDcEVvQixFQUFJOEIsR0FBTXNLLFFBQVFELEdBQ2xCZixFQUFpQ2UsRUFDbkMsSUFFQSxjQUFpQnhILEVBQVEzRSxFQUFJbUwsV0FDN0IsU0FBeUI5QyxFQUFHekosR0FDMUIsR0FBYyxHQUFYQSxFQUFLbUUsR0FBUyxPQUVqQixNQUFNc0ksRUFBT3JMLEVBQUk4QixHQUFNaUssTUFBS1YsR0FBUUEsRUFBS3RJLElBQU1uRSxFQUFLbUUsS0FDcEQvQyxFQUFJOEIsR0FBTXVLLE9BQU9yTSxFQUFJOEIsR0FBTUosUUFBUTJKLEdBQU8sR0FDMUNELEVBQWlDQyxFQUNuQyxHQVlGLENDM0dPLFNBQVNpQixFQUFRQyxHQUN0QixNQUFNdk0sRUFBTVIsT0FBT2lNLE9BQU8sQ0FBRWxILEtBQU0sV0FBYWdJLEdBSS9DLE9BSEE3QyxFQUFVMUosR0FDVm9LLEVBQWVwSyxFQUFLLFlBRWJBLENBQ1QsQ0NOTyxTQUFTd00sRUFBU0QsR0FDdkIsTUFBTXZNLEVBQU1SLE9BQU9pTSxPQUFPLENBQUVsSCxLQUFNLFlBQWNnSSxHQUtoRCxNQUpBLENBQUM3QyxFQUFXRSxFQUFZRyxHQUFlcEQsU0FBUThGLEdBQVVBLEVBQU96TSxLQUNoRSxDQUFDd0ssRUFBWUcsR0FBaUJoRSxTQUFROEYsR0FBVUEsRUFBT3pNLEVBQUssYUFDNURvSyxFQUFlcEssRUFBSyxpQkFFYkEsQ0FDVCxDQ1BPLFNBQVMwTSxFQUFjSCxHQUM1QixNQUFNdk0sRUFBTVIsT0FBT2lNLE9BQU8sQ0FBRWxILEtBQU0saUJBQW1CZ0ksR0FJckQsTUFIQSxDQUFDN0MsRUFBV0UsR0FBWWpELFNBQVE4RixHQUFVQSxFQUFPek0sS0FDakR3SyxFQUFXeEssRUFBSyxZQUVUQSxDQUNULENKWUEsY1ZDNkIsaUJVQTdCLFdBQ0VpSixFQWxCeUI3RCxTQUFTdUgsaUJBQWlCLFVBa0J0QnJJLEdBQzdCMkUsRUFsQnVCN0QsU0FBU3VILGlCQUFpQixRQWtCdEJuSSxHQUMzQnlFLEVBbEJ3QjdELFNBQVN1SCxpQkFBaUIsU0FrQnRCakksR0FDNUJ1RSxFQWxCMkI3RCxTQUFTdUgsaUJBQWlCLFlBa0J0QmhJLEVBQ2pDLElBRUEsY1ZKZ0MscUJVS2hDLFdBckJ5QlMsU0FBUzJDLGNBQWMsU0FzQmpDd0IsaUJBQWlCLFNBQVMsSUFBTSxZQUFlbEYsS0FwQm5DZSxTQUFTMkMsY0FBYyxXQXFCakN3QixpQkFBaUIsU0FBU0MsSUFDdkNBLEVBQUVvRCxpQkFDRixZQUFlbkksRUFBT3VFLElBQVVsRCxRQUFRdkIsTUFBTy9FLE9BQU9xTixZQUFZLElBQUlDLFNBQVM5RCxNQUFZLEdBRS9GLElLdEJBLE1BQU0rRCxFQUF1QixDQUFFQyxhSEZ4QixTQUFzQi9CLEdBQzNCLE1BQU1qTCxFQUFNLENBQUU2TCxZQUFhUyxFQUFTbkIsU0FBVSxXQUU5QyxPQURBSCxFQUFTaEwsRUFBS2lMLEdBQ1BqTCxDQUNULEVHRjJDLGNGRnBDLFNBQXVCaUwsR0FDNUIsTUFBTWpMLEVBQU0sQ0FBRTZMLFlBQWFXLEVBQVVyQixTQUFVLFlBRS9DLE9BREFILEVBQVNoTCxFQUFLaUwsR0FDUGpMLENBQ1QsRUVGMEQsbUJESG5ELFNBQTRCaUwsR0FDakMsTUFBTWpMLEVBQU0sQ0FBRTZMLFlBQWFhLEVBQWV2QixTQUFVLGlCQUVwRCxPQURBSCxFQUFTaEwsRUFBS2lMLEdBQ1BqTCxDQUNULEdDQ08sSUFBSWlOLEVBQWtCLENBQUMsRUFNOUIsY0FBaUI3SSxHQUNqQixTQUFzQmlFLEVBQUd6SixHQUN2QixJQUFJLE1BQU1xQixLQUFPckIsRUFDZnFPLEVBQWdCaE4sR0FBTzhNLEVBQXFCOU0sRUFBSSxHQUFHaU4sY0FBZ0JqTixFQUFJOEcsTUFBTSxJQUFJbkksRUFBS3FCLElBQ3hGLFlBQWUyRSxFQUNqQixJQVJFLFlBQWVULEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvcHVic3ViLWpzL3NyYy9wdWJzdWIuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL3B1YnN1Yi1ldmVudC10eXBlcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2NyaXB0cy9zdG9yYWdlLXByb3ZpZGVycy9sb2NhbC1zdG9yYWdlLXByb3ZpZGVyLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL3ZpZXdzL2luZGV4LXByb2plY3RzLXZpZXcuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3NjcmlwdHMvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3NjcmlwdHMvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2NyaXB0cy92aWV3cy9uZXctcHJvamVjdC12aWV3LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL3ZpZXdzL3Nob3ctcHJvamVjdC12aWV3LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL3ZpZXdzL25ldy10b2RvSXRlbS12aWV3LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL3ZpZXdzL3Nob3ctdG9kb0l0ZW0tdmlldy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2NyaXB0cy92aWV3cy92aWV3cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2NyaXB0cy9kb20tZXZlbnRzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL2NvbXBvc2l0aW9uLXVuaXRzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL3RvZG8taXRlbXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3NjcmlwdHMvY2hlY2tsaXN0LWl0ZW1zLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zY3JpcHRzL2FwcGxpY2F0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEwLDIwMTEsMjAxMiwyMDEzLDIwMTQgTW9yZ2FuIFJvZGVyaWNrIGh0dHA6Ly9yb2Rlcmljay5ka1xuICogTGljZW5zZTogTUlUIC0gaHR0cDovL21yZ25yZHJjay5taXQtbGljZW5zZS5vcmdcbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbXJvZGVyaWNrL1B1YlN1YkpTXG4gKi9cblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KXtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgUHViU3ViID0ge307XG5cbiAgICBpZiAocm9vdC5QdWJTdWIpIHtcbiAgICAgICAgUHViU3ViID0gcm9vdC5QdWJTdWI7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlB1YlN1YiBhbHJlYWR5IGxvYWRlZCwgdXNpbmcgZXhpc3RpbmcgdmVyc2lvblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LlB1YlN1YiA9IFB1YlN1YjtcbiAgICAgICAgZmFjdG9yeShQdWJTdWIpO1xuICAgIH1cbiAgICAvLyBDb21tb25KUyBhbmQgTm9kZS5qcyBtb2R1bGUgc3VwcG9ydFxuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpe1xuICAgICAgICBpZiAobW9kdWxlICE9PSB1bmRlZmluZWQgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IFB1YlN1YjsgLy8gTm9kZS5qcyBzcGVjaWZpYyBgbW9kdWxlLmV4cG9ydHNgXG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0cy5QdWJTdWIgPSBQdWJTdWI7IC8vIENvbW1vbkpTIG1vZHVsZSAxLjEuMSBzcGVjXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IFB1YlN1YjsgLy8gQ29tbW9uSlNcbiAgICB9XG4gICAgLy8gQU1EIHN1cHBvcnRcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuICAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCl7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIFB1YlN1YjsgfSk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW5kZWYgKi9cbiAgICB9XG5cbn0oKCB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cgKSB8fCB0aGlzLCBmdW5jdGlvbiAoUHViU3ViKXtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbWVzc2FnZXMgPSB7fSxcbiAgICAgICAgbGFzdFVpZCA9IC0xLFxuICAgICAgICBBTExfU1VCU0NSSUJJTkdfTVNHID0gJyonO1xuXG4gICAgZnVuY3Rpb24gaGFzS2V5cyhvYmope1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIGZvciAoa2V5IGluIG9iail7XG4gICAgICAgICAgICBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgdGhyb3dzIHRoZSBwYXNzZWQgZXhjZXB0aW9uLCBmb3IgdXNlIGFzIGFyZ3VtZW50IGZvciBzZXRUaW1lb3V0XG4gICAgICogQGFsaWFzIHRocm93RXhjZXB0aW9uXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsgT2JqZWN0IH0gZXggQW4gRXJyb3Igb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3dFeGNlcHRpb24oIGV4ICl7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiByZVRocm93RXhjZXB0aW9uKCl7XG4gICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsU3Vic2NyaWJlcldpdGhEZWxheWVkRXhjZXB0aW9ucyggc3Vic2NyaWJlciwgbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3Vic2NyaWJlciggbWVzc2FnZSwgZGF0YSApO1xuICAgICAgICB9IGNhdGNoKCBleCApe1xuICAgICAgICAgICAgc2V0VGltZW91dCggdGhyb3dFeGNlcHRpb24oIGV4ICksIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbFN1YnNjcmliZXJXaXRoSW1tZWRpYXRlRXhjZXB0aW9ucyggc3Vic2NyaWJlciwgbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICBzdWJzY3JpYmVyKCBtZXNzYWdlLCBkYXRhICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVsaXZlck1lc3NhZ2UoIG9yaWdpbmFsTWVzc2FnZSwgbWF0Y2hlZE1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKXtcbiAgICAgICAgdmFyIHN1YnNjcmliZXJzID0gbWVzc2FnZXNbbWF0Y2hlZE1lc3NhZ2VdLFxuICAgICAgICAgICAgY2FsbFN1YnNjcmliZXIgPSBpbW1lZGlhdGVFeGNlcHRpb25zID8gY2FsbFN1YnNjcmliZXJXaXRoSW1tZWRpYXRlRXhjZXB0aW9ucyA6IGNhbGxTdWJzY3JpYmVyV2l0aERlbGF5ZWRFeGNlcHRpb25zLFxuICAgICAgICAgICAgcztcblxuICAgICAgICBpZiAoICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoIG1lc3NhZ2VzLCBtYXRjaGVkTWVzc2FnZSApICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChzIGluIHN1YnNjcmliZXJzKXtcbiAgICAgICAgICAgIGlmICggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN1YnNjcmliZXJzLCBzKSl7XG4gICAgICAgICAgICAgICAgY2FsbFN1YnNjcmliZXIoIHN1YnNjcmliZXJzW3NdLCBvcmlnaW5hbE1lc3NhZ2UsIGRhdGEgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURlbGl2ZXJ5RnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGl2ZXJOYW1lc3BhY2VkKCl7XG4gICAgICAgICAgICB2YXIgdG9waWMgPSBTdHJpbmcoIG1lc3NhZ2UgKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCAnLicgKTtcblxuICAgICAgICAgICAgLy8gZGVsaXZlciB0aGUgbWVzc2FnZSBhcyBpdCBpcyBub3dcbiAgICAgICAgICAgIGRlbGl2ZXJNZXNzYWdlKG1lc3NhZ2UsIG1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyB0cmltIHRoZSBoaWVyYXJjaHkgYW5kIGRlbGl2ZXIgbWVzc2FnZSB0byBlYWNoIGxldmVsXG4gICAgICAgICAgICB3aGlsZSggcG9zaXRpb24gIT09IC0xICl7XG4gICAgICAgICAgICAgICAgdG9waWMgPSB0b3BpYy5zdWJzdHIoIDAsIHBvc2l0aW9uICk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZignLicpO1xuICAgICAgICAgICAgICAgIGRlbGl2ZXJNZXNzYWdlKCBtZXNzYWdlLCB0b3BpYywgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxpdmVyTWVzc2FnZShtZXNzYWdlLCBBTExfU1VCU0NSSUJJTkdfTVNHLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNEaXJlY3RTdWJzY3JpYmVyc0ZvciggbWVzc2FnZSApIHtcbiAgICAgICAgdmFyIHRvcGljID0gU3RyaW5nKCBtZXNzYWdlICksXG4gICAgICAgICAgICBmb3VuZCA9IEJvb2xlYW4oT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCBtZXNzYWdlcywgdG9waWMgKSAmJiBoYXNLZXlzKG1lc3NhZ2VzW3RvcGljXSkpO1xuXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXNzYWdlSGFzU3Vic2NyaWJlcnMoIG1lc3NhZ2UgKXtcbiAgICAgICAgdmFyIHRvcGljID0gU3RyaW5nKCBtZXNzYWdlICksXG4gICAgICAgICAgICBmb3VuZCA9IGhhc0RpcmVjdFN1YnNjcmliZXJzRm9yKHRvcGljKSB8fCBoYXNEaXJlY3RTdWJzY3JpYmVyc0ZvcihBTExfU1VCU0NSSUJJTkdfTVNHKSxcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoICcuJyApO1xuXG4gICAgICAgIHdoaWxlICggIWZvdW5kICYmIHBvc2l0aW9uICE9PSAtMSApe1xuICAgICAgICAgICAgdG9waWMgPSB0b3BpYy5zdWJzdHIoIDAsIHBvc2l0aW9uICk7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCAnLicgKTtcbiAgICAgICAgICAgIGZvdW5kID0gaGFzRGlyZWN0U3Vic2NyaWJlcnNGb3IodG9waWMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1Ymxpc2goIG1lc3NhZ2UsIGRhdGEsIHN5bmMsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKXtcbiAgICAgICAgbWVzc2FnZSA9ICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N5bWJvbCcpID8gbWVzc2FnZS50b1N0cmluZygpIDogbWVzc2FnZTtcblxuICAgICAgICB2YXIgZGVsaXZlciA9IGNyZWF0ZURlbGl2ZXJ5RnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKSxcbiAgICAgICAgICAgIGhhc1N1YnNjcmliZXJzID0gbWVzc2FnZUhhc1N1YnNjcmliZXJzKCBtZXNzYWdlICk7XG5cbiAgICAgICAgaWYgKCAhaGFzU3Vic2NyaWJlcnMgKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc3luYyA9PT0gdHJ1ZSApe1xuICAgICAgICAgICAgZGVsaXZlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dCggZGVsaXZlciwgMCApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2hlcyB0aGUgbWVzc2FnZSwgcGFzc2luZyB0aGUgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHB1Ymxpc2hcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHB1Ymxpc2hcbiAgICAgKiBAcGFyYW0ge30gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIHN1YnNjcmliZXJzXG4gICAgICogQHJldHVybiB7IEJvb2xlYW4gfVxuICAgICAqL1xuICAgIFB1YlN1Yi5wdWJsaXNoID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgcmV0dXJuIHB1Ymxpc2goIG1lc3NhZ2UsIGRhdGEsIGZhbHNlLCBQdWJTdWIuaW1tZWRpYXRlRXhjZXB0aW9ucyApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgdGhlIG1lc3NhZ2Ugc3luY2hyb25vdXNseSwgcGFzc2luZyB0aGUgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHB1Ymxpc2hTeW5jXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBwdWJsaXNoXG4gICAgICogQHBhcmFtIHt9IGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBzdWJzY3JpYmVyc1xuICAgICAqIEByZXR1cm4geyBCb29sZWFuIH1cbiAgICAgKi9cbiAgICBQdWJTdWIucHVibGlzaFN5bmMgPSBmdW5jdGlvbiggbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICByZXR1cm4gcHVibGlzaCggbWVzc2FnZSwgZGF0YSwgdHJ1ZSwgUHViU3ViLmltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyB0aGUgcGFzc2VkIGZ1bmN0aW9uIHRvIHRoZSBwYXNzZWQgbWVzc2FnZS4gRXZlcnkgcmV0dXJuZWQgdG9rZW4gaXMgdW5pcXVlIGFuZCBzaG91bGQgYmUgc3RvcmVkIGlmIHlvdSBuZWVkIHRvIHVuc3Vic2NyaWJlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHN1YnNjcmliZVxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gc3Vic2NyaWJlIHRvXG4gICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBuZXcgbWVzc2FnZSBpcyBwdWJsaXNoZWRcbiAgICAgKiBAcmV0dXJuIHsgU3RyaW5nIH1cbiAgICAgKi9cbiAgICBQdWJTdWIuc3Vic2NyaWJlID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGZ1bmMgKXtcbiAgICAgICAgaWYgKCB0eXBlb2YgZnVuYyAhPT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNzYWdlID0gKHR5cGVvZiBtZXNzYWdlID09PSAnc3ltYm9sJykgPyBtZXNzYWdlLnRvU3RyaW5nKCkgOiBtZXNzYWdlO1xuXG4gICAgICAgIC8vIG1lc3NhZ2UgaXMgbm90IHJlZ2lzdGVyZWQgeWV0XG4gICAgICAgIGlmICggIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCggbWVzc2FnZXMsIG1lc3NhZ2UgKSApe1xuICAgICAgICAgICAgbWVzc2FnZXNbbWVzc2FnZV0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZvcmNpbmcgdG9rZW4gYXMgU3RyaW5nLCB0byBhbGxvdyBmb3IgZnV0dXJlIGV4cGFuc2lvbnMgd2l0aG91dCBicmVha2luZyB1c2FnZVxuICAgICAgICAvLyBhbmQgYWxsb3cgZm9yIGVhc3kgdXNlIGFzIGtleSBuYW1lcyBmb3IgdGhlICdtZXNzYWdlcycgb2JqZWN0XG4gICAgICAgIHZhciB0b2tlbiA9ICd1aWRfJyArIFN0cmluZygrK2xhc3RVaWQpO1xuICAgICAgICBtZXNzYWdlc1ttZXNzYWdlXVt0b2tlbl0gPSBmdW5jO1xuXG4gICAgICAgIC8vIHJldHVybiB0b2tlbiBmb3IgdW5zdWJzY3JpYmluZ1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfTtcblxuICAgIFB1YlN1Yi5zdWJzY3JpYmVBbGwgPSBmdW5jdGlvbiggZnVuYyApe1xuICAgICAgICByZXR1cm4gUHViU3ViLnN1YnNjcmliZShBTExfU1VCU0NSSUJJTkdfTVNHLCBmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyB0aGUgcGFzc2VkIGZ1bmN0aW9uIHRvIHRoZSBwYXNzZWQgbWVzc2FnZSBvbmNlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHN1YnNjcmliZU9uY2VcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHN1YnNjcmliZSB0b1xuICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgbmV3IG1lc3NhZ2UgaXMgcHVibGlzaGVkXG4gICAgICogQHJldHVybiB7IFB1YlN1YiB9XG4gICAgICovXG4gICAgUHViU3ViLnN1YnNjcmliZU9uY2UgPSBmdW5jdGlvbiggbWVzc2FnZSwgZnVuYyApe1xuICAgICAgICB2YXIgdG9rZW4gPSBQdWJTdWIuc3Vic2NyaWJlKCBtZXNzYWdlLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy8gYmVmb3JlIGZ1bmMgYXBwbHksIHVuc3Vic2NyaWJlIG1lc3NhZ2VcbiAgICAgICAgICAgIFB1YlN1Yi51bnN1YnNjcmliZSggdG9rZW4gKTtcbiAgICAgICAgICAgIGZ1bmMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFB1YlN1YjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBzdWJzY3JpcHRpb25zXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBjbGVhckFsbFN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICBQdWJTdWIuY2xlYXJBbGxTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gY2xlYXJBbGxTdWJzY3JpcHRpb25zKCl7XG4gICAgICAgIG1lc3NhZ2VzID0ge307XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHN1YnNjcmlwdGlvbnMgYnkgdGhlIHRvcGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBjbGVhckFsbFN1YnNjcmlwdGlvbnNcbiAgICAgKiBAcmV0dXJuIHsgaW50IH1cbiAgICAgKi9cbiAgICBQdWJTdWIuY2xlYXJTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gY2xlYXJTdWJzY3JpcHRpb25zKHRvcGljKXtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIGZvciAobSBpbiBtZXNzYWdlcyl7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1lc3NhZ2VzLCBtKSAmJiBtLmluZGV4T2YodG9waWMpID09PSAwKXtcbiAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZXNbbV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICAgQ291bnQgc3Vic2NyaXB0aW9ucyBieSB0aGUgdG9waWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHVibGljXG4gICAgICogQGFsaWFzIGNvdW50U3Vic2NyaXB0aW9uc1xuICAgICAqIEByZXR1cm4geyBBcnJheSB9XG4gICAgKi9cbiAgICBQdWJTdWIuY291bnRTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gY291bnRTdWJzY3JpcHRpb25zKHRvcGljKXtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICB2YXIgdG9rZW47XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobSBpbiBtZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlcywgbSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZvciAodG9rZW4gaW4gbWVzc2FnZXNbbV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAgIEdldHMgc3Vic2NyaXB0aW9ucyBieSB0aGUgdG9waWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHVibGljXG4gICAgICogQGFsaWFzIGdldFN1YnNjcmlwdGlvbnNcbiAgICAqL1xuICAgIFB1YlN1Yi5nZXRTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gZ2V0U3Vic2NyaXB0aW9ucyh0b3BpYyl7XG4gICAgICAgIHZhciBtO1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICBmb3IgKG0gaW4gbWVzc2FnZXMpe1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlcywgbSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKG0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHN1YnNjcmlwdGlvbnNcbiAgICAgKlxuICAgICAqIC0gV2hlbiBwYXNzZWQgYSB0b2tlbiwgcmVtb3ZlcyBhIHNwZWNpZmljIHN1YnNjcmlwdGlvbi5cbiAgICAgKlxuXHQgKiAtIFdoZW4gcGFzc2VkIGEgZnVuY3Rpb24sIHJlbW92ZXMgYWxsIHN1YnNjcmlwdGlvbnMgZm9yIHRoYXQgZnVuY3Rpb25cbiAgICAgKlxuXHQgKiAtIFdoZW4gcGFzc2VkIGEgdG9waWMsIHJlbW92ZXMgYWxsIHN1YnNjcmlwdGlvbnMgZm9yIHRoYXQgdG9waWMgKGhpZXJhcmNoeSlcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHVibGljXG4gICAgICogQGFsaWFzIHN1YnNjcmliZU9uY2VcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfCBGdW5jdGlvbiB9IHZhbHVlIEEgdG9rZW4sIGZ1bmN0aW9uIG9yIHRvcGljIHRvIHVuc3Vic2NyaWJlIGZyb21cbiAgICAgKiBAZXhhbXBsZSAvLyBVbnN1YnNjcmliaW5nIHdpdGggYSB0b2tlblxuICAgICAqIHZhciB0b2tlbiA9IFB1YlN1Yi5zdWJzY3JpYmUoJ215dG9waWMnLCBteUZ1bmMpO1xuICAgICAqIFB1YlN1Yi51bnN1YnNjcmliZSh0b2tlbik7XG4gICAgICogQGV4YW1wbGUgLy8gVW5zdWJzY3JpYmluZyB3aXRoIGEgZnVuY3Rpb25cbiAgICAgKiBQdWJTdWIudW5zdWJzY3JpYmUobXlGdW5jKTtcbiAgICAgKiBAZXhhbXBsZSAvLyBVbnN1YnNjcmliaW5nIGZyb20gYSB0b3BpY1xuICAgICAqIFB1YlN1Yi51bnN1YnNjcmliZSgnbXl0b3BpYycpO1xuICAgICAqL1xuICAgIFB1YlN1Yi51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgdmFyIGRlc2NlbmRhbnRUb3BpY0V4aXN0cyA9IGZ1bmN0aW9uKHRvcGljKSB7XG4gICAgICAgICAgICAgICAgdmFyIG07XG4gICAgICAgICAgICAgICAgZm9yICggbSBpbiBtZXNzYWdlcyApe1xuICAgICAgICAgICAgICAgICAgICBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlcywgbSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBkZXNjZW5kYW50IG9mIHRoZSB0b3BpYyBleGlzdHM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1RvcGljICAgID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlcywgdmFsdWUpIHx8IGRlc2NlbmRhbnRUb3BpY0V4aXN0cyh2YWx1ZSkgKSxcbiAgICAgICAgICAgIGlzVG9rZW4gICAgPSAhaXNUb3BpYyAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnLFxuICAgICAgICAgICAgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlLFxuICAgICAgICAgICAgbSwgbWVzc2FnZSwgdDtcblxuICAgICAgICBpZiAoaXNUb3BpYyl7XG4gICAgICAgICAgICBQdWJTdWIuY2xlYXJTdWJzY3JpcHRpb25zKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoIG0gaW4gbWVzc2FnZXMgKXtcbiAgICAgICAgICAgIGlmICggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCBtZXNzYWdlcywgbSApICl7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VzW21dO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBpc1Rva2VuICYmIG1lc3NhZ2VbdmFsdWVdICl7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRva2VucyBhcmUgdW5pcXVlLCBzbyB3ZSBjYW4ganVzdCBzdG9wIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICggdCBpbiBtZXNzYWdlICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1lc3NhZ2UsIHQpICYmIG1lc3NhZ2VbdF0gPT09IHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZVt0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufSkpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsImV4cG9ydCBjb25zdCBJTklUSUFMSVpFID0gJ2luaXRpYWxpemUnO1xuZXhwb3J0IGNvbnN0IERBVEFfSU5JVElBTElaRUQgPSAnZGF0YUluaXRpYWxpemVkJztcblxuZXhwb3J0IGNvbnN0IEJBQ0sgPSAnYmFjayc7XG5leHBvcnQgY29uc3QgSU5ERVggPSB0eXBlID0+IGBpbmRleC4ke3R5cGV9YDtcbmV4cG9ydCBjb25zdCBORVcgPSB0eXBlID0+IGBuZXcuJHt0eXBlfWA7XG5leHBvcnQgY29uc3QgQ1JFQVRFID0gdHlwZSA9PiBgY3JlYXRlLiR7dHlwZX1gO1xuZXhwb3J0IGNvbnN0IFNIT1cgPSB0eXBlID0+IGBzaG93LiR7dHlwZX1gO1xuZXhwb3J0IGNvbnN0IERFU1RST1kgPSB0eXBlID0+IGBkZXN0cm95LiR7dHlwZX1gO1xuXG5leHBvcnQgY29uc3QgVVBEQVRFID0gKHR5cGUsIGlkKSA9PiBgdXBkYXRlLiR7dHlwZX0uJHtpZH1gO1xuZXhwb3J0IGNvbnN0IFVQREFURV9TVEFUVVMgPSAodHlwZSwgaWQpID0+IGB1cGRhdGUuJHt0eXBlfS5zdGF0dXMuJHtpZH1gO1xuZXhwb3J0IGNvbnN0IFVQREFURV9QUklPUklUWSA9ICh0eXBlLCBpZCkgPT4gYHVwZGF0ZS4ke3R5cGV9LnByaW9yaXR5LiR7aWR9YDtcbmV4cG9ydCBjb25zdCBVUERBVEVfQkVMT05HID0gKHR5cGUsIGlkLCBiZWxvbmdUeXBlKSA9PiBgdXBkYXRlLiR7dHlwZX0uYmVsb25nLiR7YmVsb25nVHlwZX0uJHtpZH1gO1xuXG5leHBvcnQgY29uc3QgQU5ZX1VQREFURUQgPSAndXBkYXRlZCc7XG5leHBvcnQgY29uc3QgVVBEQVRFRCA9ICh0eXBlLCBpZCkgPT4gYHVwZGF0ZWQuJHt0eXBlfS4ke2lkfWA7XG5leHBvcnQgY29uc3QgQkVMT05HX1VQREFURUQgPSB0eXBlID0+IGB1cGRhdGVkLiR7dHlwZX0uYmVsb25nYDtcbmV4cG9ydCBjb25zdCBMSVNUX1VQREFURUQgPSB0eXBlID0+IGB1cGRhdGVkLiR7dHlwZX0ubGlzdGA7XG5cbmV4cG9ydCBjb25zdCBQQUdFX1JFTkRFUkVEID0gJ3JlbmRlcmVkLnBhZ2UnO1xuZXhwb3J0IGNvbnN0IFZJRVdfUkVOREVSRUQgPSAncmVuZGVyZWQudmlldyc7XG5leHBvcnQgY29uc3QgQU5ZX0lOREVYX1JFTkRFUkVEID0gJ3JlbmRlcmVkLnZpZXcuaW5kZXgnO1xuZXhwb3J0IGNvbnN0IElOREVYX1JFTkRFUkVEID0gdHlwZSA9PiBgcmVuZGVyZWQudmlldy5pbmRleC4ke3R5cGV9YDtcbmV4cG9ydCBjb25zdCBBTllfTkVXX1JFTkRFUkVEID0gJ3JlbmRlcmVkLnZpZXcubmV3JztcbmV4cG9ydCBjb25zdCBORVdfUkVOREVSRUQgPSB0eXBlID0+IGByZW5kZXJlZC52aWV3Lm5ldy4ke3R5cGV9YDtcbmV4cG9ydCBjb25zdCBBTllfU0hPV19SRU5ERVJFRCA9ICdyZW5kZXJlZC52aWV3LnNob3cnO1xuZXhwb3J0IGNvbnN0IFNIT1dfUkVOREVSRUQgPSB0eXBlID0+IGByZW5kZXJlZC52aWV3LnNob3cuJHt0eXBlfWA7XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlRGF0YShkYXRhKSB7XG4gIFxufVxuIiwiaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xuaW1wb3J0IHsgSU5ERVgsIElOREVYX1JFTkRFUkVELCBQQUdFX1JFTkRFUkVEIH0gZnJvbSAnLi4vcHVic3ViLWV2ZW50LXR5cGVzJztcbmltcG9ydCB7IGFwcGxpY2F0aW9uRGF0YSBhcyByZW5kZXJEYXRhIH0gZnJvbSAnLi4vYXBwbGljYXRpb24nO1xuaW1wb3J0ICogYXMgc2V0dGluZ3MgZnJvbSAnLi4vc2V0dGluZ3MnO1xuXG5QdWJTdWIuc3Vic2NyaWJlKElOREVYKCdwcm9qZWN0JyksIGluZGV4UHJvamVjdHNWaWV3KVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5kZXhQcm9qZWN0c1ZpZXcoKSB7XG4gIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJyc7XG4gIF9yZW5kZXJJbnRybygpO1xuICBfcmVuZGVyUHJvamVjdHMoKTtcbiAgUHViU3ViLnB1Ymxpc2goUEFHRV9SRU5ERVJFRCwgaW5kZXhQcm9qZWN0c1ZpZXcpO1xuICBQdWJTdWIucHVibGlzaChJTkRFWF9SRU5ERVJFRCgncHJvamVjdCcpKTtcbn1cblxuZnVuY3Rpb24gX3JlbmRlckludHJvKCkge1xuICBjb25zdCBoZWFkaW5nRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyksXG4gICAgICAgIGJ5bGluZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpLFxuICAgICAgICBuZXdUb2RvSXRlbUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBoZWFkaW5nRWxlbWVudC50ZXh0Q29udGVudCA9ICdBY3Rpb25hbGl0eSc7XG4gIGJ5bGluZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnWW91ciBvbmUtc3RvcCB0by1kbyBhcHAnO1xuICBuZXdUb2RvSXRlbUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCduZXcnKTtcbiAgbmV3VG9kb0l0ZW1CdXR0b24uZGF0YXNldC50eXBlID0gJ3RvZG9JdGVtJztcbiAgbmV3VG9kb0l0ZW1CdXR0b24uZGF0YXNldC5wcm9qZWN0SWQgPSAwO1xuICBuZXdUb2RvSXRlbUJ1dHRvbi50ZXh0Q29udGVudCA9ICdBZGQgYSBOZXcgVG8tRG8nO1xuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kKGhlYWRpbmdFbGVtZW50LCBieWxpbmVFbGVtZW50LCBuZXdUb2RvSXRlbUJ1dHRvbik7XG59XG5cbmZ1bmN0aW9uIF9yZW5kZXJQcm9qZWN0cygpIHtcbiAgX3JlbmRlclByb2plY3RzSGVhZGluZygpO1xuICBfcmVuZGVyUHJvamVjdHNMaXN0KCk7XG59XG5cbmZ1bmN0aW9uIF9yZW5kZXJQcm9qZWN0c0hlYWRpbmcoKSB7XG4gIGNvbnN0IHByb2plY3RzSGVhZGluZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgcHJvamVjdHNIZWFkaW5nVGV4dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpLFxuICAgICAgICBuZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgcHJvamVjdHNIZWFkaW5nVGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSAnTXkgUHJvamVjdHMnO1xuICBuZXdQcm9qZWN0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25ldycpO1xuICBuZXdQcm9qZWN0QnV0dG9uLmRhdGFzZXQudHlwZSA9ICdwcm9qZWN0JztcbiAgbmV3UHJvamVjdEJ1dHRvbi50ZXh0Q29udGVudCA9ICcrJztcblxuICBwcm9qZWN0c0hlYWRpbmdFbGVtZW50LmFwcGVuZChwcm9qZWN0c0hlYWRpbmdUZXh0RWxlbWVudCwgbmV3UHJvamVjdEJ1dHRvbik7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kKHByb2plY3RzSGVhZGluZ0VsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBfcmVuZGVyUHJvamVjdHNMaXN0KCkge1xuICByZW5kZXJEYXRhLnByb2plY3RzTGlzdC5wcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgIGNvbnN0IHByb2plY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgc2hvd0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpLFxuICAgICAgICAgIGRlc3Ryb3lCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSxcbiAgICAgICAgICBwcmV2aWV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG5cbiAgICBbc2hvd0J1dHRvbiwgZGVzdHJveUJ1dHRvbl0uZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgYnV0dG9uLmRhdGFzZXQudHlwZSA9IHByb2plY3QudHlwZTtcbiAgICAgIGJ1dHRvbi5kYXRhc2V0LmlkID0gcHJvamVjdC5pZDtcbiAgICB9KVxuICAgIHNob3dCdXR0b24uY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgIHNob3dCdXR0b24udGV4dENvbnRlbnQgPSBwcm9qZWN0LnRpdGxlO1xuICAgIGRlc3Ryb3lCdXR0b24uY2xhc3NMaXN0LmFkZCgnZGVzdHJveScpO1xuICAgIGRlc3Ryb3lCdXR0b24udGV4dENvbnRlbnQgPSAnLSc7XG5cbiAgICByZW5kZXJEYXRhLnRvZG9JdGVtc0xpc3Qud2l0aElkcyhwcm9qZWN0LnRvZG9JdGVtSWRzKVxuICAgICAgICAgICAgICAuc2xpY2UoMCwgc2V0dGluZ3MucHJldmlld051bSkuZm9yRWFjaCh0b2RvSXRlbSA9PiB7XG4gICAgICBjb25zdCB0b2RvSXRlbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgdG9kb0l0ZW1FbGVtZW50LnRleHRDb250ZW50ID0gdG9kb0l0ZW0udGl0bGU7XG4gICAgICBwcmV2aWV3RWxlbWVudC5hcHBlbmRDaGlsZCh0b2RvSXRlbUVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgcHJvamVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2hvd0J1dHRvbik7XG4gICAgaWYgKHByb2plY3QuaWQpIHByb2plY3RFbGVtZW50LmFwcGVuZENoaWxkKGRlc3Ryb3lCdXR0b24pO1xuICAgIHByb2plY3RFbGVtZW50LmFwcGVuZChwcmV2aWV3RWxlbWVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9qZWN0RWxlbWVudCk7XG4gIH0pXG59XG4iLCJleHBvcnQgY29uc3QgcHJldmlld051bSA9IDI7XG4iLCJpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XG5pbXBvcnQgeyBJTklUSUFMSVpFLCBEQVRBX0lOSVRJQUxJWkVELCBBTllfVVBEQVRFRCB9IGZyb20gJy4vcHVic3ViLWV2ZW50LXR5cGVzJztcbmltcG9ydCBhcHBsaWNhdGlvbkRhdGEgZnJvbSAnLi9hcHBsaWNhdGlvbic7XG4vL21heSBjaGFuZ2UgdGhpcyBkZXBlbmRpbmcgb24gc3RvcmFnZVByb3ZpZGVyIGltcGxlbWVudGF0aW9uXG5pbXBvcnQgKiBhcyBsb2NhbFN0b3JhZ2UgZnJvbSAnLi9zdG9yYWdlLXByb3ZpZGVycy9sb2NhbC1zdG9yYWdlLXByb3ZpZGVyJztcblxuUHViU3ViLnN1YnNjcmliZShJTklUSUFMSVpFLCBpbml0aWFsaXplRGF0YUZuKGxvY2FsU3RvcmFnZS5nZXREYXRhKSk7XG5mdW5jdGlvbiBpbml0aWFsaXplRGF0YUZuKGdldERhdGFGbiA9IGxvY2FsU3RvcmFnZS5nZXREYXRhKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzdG9yYWdlRGF0YSA9IGdldERhdGFGbigpIHx8IFxuICAgIHsgcHJvamVjdHNMaXN0OiBbeyBpZDogMCwgdGl0bGU6ICdNeSBUby1Eb3MnLCB0b2RvSXRlbUlkczogWzFdIH1dLCBcbiAgICAgIHRvZG9JdGVtc0xpc3Q6IFt7IGlkOiAxLCB0aXRsZTogJ1NhbXBsZSBUby1EbycsIHByaW9yaXR5OiAnbG93Jywgc3RhdHVzOiAnaW5jb21wbGV0ZScsIGR1ZURhdGU6IERhdGUoKSB9XSwgXG4gICAgICBjaGVja2xpc3RJdGVtc0xpc3Q6IFtdIH07XG4gICAgUHViU3ViLnB1Ymxpc2goREFUQV9JTklUSUFMSVpFRCwgc3RvcmFnZURhdGEpO1xuICB9XG59XG5cblB1YlN1Yi5zdWJzY3JpYmUoQU5ZX1VQREFURUQsIHNhdmVEYXRhRm4obG9jYWxTdG9yYWdlLnNhdmVEYXRhKSk7XG5mdW5jdGlvbiBzYXZlRGF0YUZuKHNhdmVEYXRhRm4gPSBsb2NhbFN0b3JhZ2Uuc2F2ZURhdGEpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNhdmVEYXRhRm4oYXBwbGljYXRpb25EYXRhKTtcbiAgfVxufVxuIiwiaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xuaW1wb3J0IHsgTkVXLCBORVdfUkVOREVSRUQgfSBmcm9tICcuLi9wdWJzdWItZXZlbnQtdHlwZXMnO1xuXG5QdWJTdWIuc3Vic2NyaWJlKE5FVygncHJvamVjdCcpLCBuZXdQcm9qZWN0Vmlldyk7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBuZXdQcm9qZWN0VmlldygpIHtcbiAgY29uc3QgYWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdbZGF0YS10eXBlPVwicHJvamVjdFwiXScpLFxuICAgICAgICBiYWNrQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyksXG4gICAgICAgIHByb2plY3RGb3JtRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgYmFja0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdiYWNrJyk7XG4gIGJhY2tCdXR0b24udGV4dENvbnRlbnQgPSAnQmFjayc7XG4gIHByb2plY3RGb3JtRWxlbWVudC5jbGFzc0xpc3QuYWRkKCduZXctZm9ybScpO1xuICBwcm9qZWN0Rm9ybUVsZW1lbnQuZGF0YXNldC50eXBlID0gJ3Byb2plY3QnO1xuICBwcm9qZWN0Rm9ybUVsZW1lbnQuaW5uZXJIVE1MID1cbiAgICBgPGxhYmVsIGZvcj1cInRpdGxlXCI+TmV3IFByb2plY3Q8L2xhYmVsPlxuICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidGl0bGVcIiBpZD1cInRpdGxlXCI+XG4gICAgIDxidXR0b24gY2xhc3M9XCJzdWJtaXRcIj5TdWJtaXQ8L2J1dHRvbj5gO1xuXG4gIGFkZFByb2plY3RCdXR0b24ucGFyZW50Tm9kZS5hcHBlbmQoYmFja0J1dHRvbiwgcHJvamVjdEZvcm1FbGVtZW50KTtcbiAgYWRkUHJvamVjdEJ1dHRvbi5yZW1vdmUoKTtcbiAgUHViU3ViLnB1Ymxpc2goTkVXX1JFTkRFUkVEKCdwcm9qZWN0JykpO1xufVxuIiwiaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xuaW1wb3J0IHsgU0hPVywgU0hPV19SRU5ERVJFRCwgUEFHRV9SRU5ERVJFRCB9IGZyb20gJy4uL3B1YnN1Yi1ldmVudC10eXBlcyc7XG5pbXBvcnQgeyBhcHBsaWNhdGlvbkRhdGEgYXMgcmVuZGVyRGF0YSB9IGZyb20gJy4uL2FwcGxpY2F0aW9uJztcblxuUHViU3ViLnN1YnNjcmliZShTSE9XKCdwcm9qZWN0JyksIHNob3dQcm9qZWN0Vmlldyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNob3dQcm9qZWN0VmlldyhfLCBkYXRhKSB7XG4gIGNvbnNvbGUubG9nKCdzaG93UHJvamVjdFZpZXcnKTtcbiAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgY29uc3QgcHJvamVjdCA9IHJlbmRlckRhdGEucHJvamVjdHNMaXN0LndpdGhJZChkYXRhLmlkKTtcbiAgX3JlbmRlckludHJvKHByb2plY3QpO1xuICBfcmVuZGVyVG9kb0l0ZW1zKHByb2plY3QpO1xuICBQdWJTdWIucHVibGlzaChQQUdFX1JFTkRFUkVELCBzaG93UHJvamVjdFZpZXcuYmluZChudWxsLCBfLCBkYXRhKSk7XG4gIFB1YlN1Yi5wdWJsaXNoKFNIT1dfUkVOREVSRUQoJ3Byb2plY3QnKSk7XG59XG5cbmZ1bmN0aW9uIF9yZW5kZXJJbnRybyhwcm9qZWN0KSB7XG4gIGNvbnN0IGluZGV4QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyksXG4gICAgICAgIGhlYWRpbmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIGVkaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSxcbiAgICAgICAgbmV3VG9kb0l0ZW1CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgaW5kZXhCdXR0b24uY2xhc3NMaXN0LmFkZCgnaW5kZXgnKTtcbiAgaW5kZXhCdXR0b24uZGF0YXNldC50eXBlID0gcHJvamVjdC50eXBlO1xuICBpbmRleEJ1dHRvbi50ZXh0Q29udGVudCA9ICdBbGwgUHJvamVjdHMnO1xuICBlZGl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VkaXQtdGl0bGUnKTtcbiAgZWRpdEJ1dHRvbi50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG4gIG5ld1RvZG9JdGVtQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25ldycpO1xuICBuZXdUb2RvSXRlbUJ1dHRvbi5kYXRhc2V0LnR5cGUgPSAndG9kb0l0ZW0nO1xuICBuZXdUb2RvSXRlbUJ1dHRvbi5kYXRhc2V0LnByb2plY3RJZCA9IHByb2plY3QuaWQ7XG4gIG5ld1RvZG9JdGVtQnV0dG9uLnRleHRDb250ZW50ID0gJysnO1xuXG4gIGhlYWRpbmdFbGVtZW50LmFwcGVuZChlZGl0QnV0dG9uLCBuZXdUb2RvSXRlbUJ1dHRvbik7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kKGluZGV4QnV0dG9uLCBoZWFkaW5nRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIF9yZW5kZXJUb2RvSXRlbXMocHJvamVjdCkge1xuICByZW5kZXJEYXRhLnRvZG9JdGVtc0xpc3Qud2l0aElkcyhwcm9qZWN0LnRvZG9JdGVtSWRzKS5mb3JFYWNoKHRvZG9JdGVtID0+IHtcbiAgICBjb25zdCB0b2RvSXRlbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICBlZGl0VGl0bGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSxcbiAgICAgICAgICBkdWVEYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgIHNob3dCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSxcbiAgICAgICAgICBkZXN0cm95QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgdG9kb0l0ZW1FbGVtZW50LmNsYXNzTGlzdC5hZGQodG9kb0l0ZW0ucHJpb3JpdHkpO1xuICAgIGVkaXRUaXRsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlZGl0LXRpdGxlJyk7XG4gICAgZWRpdFRpdGxlQnV0dG9uLnRleHRDb250ZW50ID0gdG9kb0l0ZW0udGl0bGU7XG4gICAgZHVlRGF0ZUVsZW1lbnQuaW5uZXJIVE1MID0gXG4gICAgICBgRHVlIERhdGU6IDxidXR0b24gY2xhc3M9XCJlZGl0LWR1ZURhdGVcIj4ke3RvZG9JdGVtLmR1ZURhdGV9PC9idXR0b24+YDtcblxuICAgIFtzaG93QnV0dG9uLCBkZXN0cm95QnV0dG9uXS5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICBidXR0b24uZGF0YXNldC50eXBlID0gdG9kb0l0ZW0udHlwZTtcbiAgICAgIGJ1dHRvbi5kYXRhc2V0LmlkID0gdG9kb0l0ZW0uaWQ7XG4gICAgfSlcbiAgICBzaG93QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICBzaG93QnV0dG9uLnRleHRDb250ZW50ID0gJ0V4cGFuZCc7XG4gICAgZGVzdHJveUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkZXN0cm95Jyk7XG4gICAgZGVzdHJveUJ1dHRvbi50ZXh0Q29udGVudCA9ICctJztcbiAgICBcbiAgICB0b2RvSXRlbUVsZW1lbnQuYXBwZW5kKGVkaXRUaXRsZUJ1dHRvbiwgZHVlRGF0ZUVsZW1lbnQsIHNob3dCdXR0b24sIGRlc3Ryb3lCdXR0b24pO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRvZG9JdGVtRWxlbWVudCk7XG4gIH0pXG59XG4iLCJpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XG5pbXBvcnQgeyBORVcsIE5FV19SRU5ERVJFRCB9IGZyb20gJy4uL3B1YnN1Yi1ldmVudC10eXBlcyc7XG5cblB1YlN1Yi5zdWJzY3JpYmUoTkVXKCd0b2RvSXRlbScpLCBuZXdUb2RvSXRlbVZpZXcpO1xuXG5cbmZ1bmN0aW9uIG5ld1RvZG9JdGVtVmlldygpIHtcbiAgY29uc29sZS5sb2coJ25ld1RvZG9JdGVtVmlldycpO1xufVxuIiwiaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xuaW1wb3J0IHsgU0hPVywgU0hPV19SRU5ERVJFRCB9IGZyb20gJy4uL3B1YnN1Yi1ldmVudC10eXBlcyc7XG5pbXBvcnQgeyBhcHBsaWNhdGlvbkRhdGEgYXMgcmVuZGVyRGF0YSB9IGZyb20gJy4uL2FwcGxpY2F0aW9uJztcblxuUHViU3ViLnN1YnNjcmliZShTSE9XKCd0b2RvSXRlbScpLCBzaG93VG9kb0l0ZW1WaWV3KTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hvd1RvZG9JdGVtVmlldyhfLCBkYXRhKSB7XG4gIGNvbnNvbGUubG9nKCdzaG93VG9kb0l0ZW1WaWV3Jyk7XG59XG4iLCJpbXBvcnQgJy4vaW5kZXgtcHJvamVjdHMtdmlldydcbmltcG9ydCAnLi9uZXctcHJvamVjdC12aWV3J1xuaW1wb3J0ICcuL3Nob3ctcHJvamVjdC12aWV3J1xuaW1wb3J0ICcuL25ldy10b2RvSXRlbS12aWV3J1xuaW1wb3J0ICcuL3Nob3ctdG9kb0l0ZW0tdmlldydcblxuaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xuaW1wb3J0IHsgUEFHRV9SRU5ERVJFRCwgQU5ZX1VQREFURUQsIEJBQ0sgfSBmcm9tICcuLi9wdWJzdWItZXZlbnQtdHlwZXMnO1xuaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gJy4vaW5kZXgtcHJvamVjdHMtdmlldyc7XG5cbmxldCBjdXJyUGFnZVZpZXcgPSBkZWZhdWx0VmlldztcblxuUHViU3ViLnN1YnNjcmliZShQQUdFX1JFTkRFUkVELCBzZXRDdXJyUGFnZVZpZXcpXG5mdW5jdGlvbiBzZXRDdXJyUGFnZVZpZXcoXywgdmlldykge1xuICBjdXJyUGFnZVZpZXcgPSB2aWV3O1xufVxuXG5QdWJTdWIuc3Vic2NyaWJlKEFOWV9VUERBVEVELCB1cGRhdGVWaWV3KVxuUHViU3ViLnN1YnNjcmliZShCQUNLLCB1cGRhdGVWaWV3KVxuZnVuY3Rpb24gdXBkYXRlVmlldygpIHtcbiAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgY3VyclBhZ2VWaWV3KCk7XG59XG4iLCJpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XG5pbXBvcnQgeyBCQUNLLCBWSUVXX1JFTkRFUkVELCBJTkRFWCwgTkVXLCBBTllfTkVXX1JFTkRFUkVELCBcbiAgICAgICAgIENSRUFURSwgU0hPVywgREVTVFJPWSB9IGZyb20gJy4vcHVic3ViLWV2ZW50LXR5cGVzJztcblxuY29uc3QgaW5kZXhCdXR0b25zID0gKCkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmluZGV4JyksXG4gICAgICBuZXdCdXR0b25zID0gKCkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ldycpLFxuICAgICAgc2hvd0J1dHRvbnMgPSAoKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2hvdycpLFxuICAgICAgZGVzdHJveUJ1dHRvbnMgPSAoKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVzdHJveScpLFxuICAgICAgYmFja0J1dHRvbiA9ICgpID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYWNrJyksXG4gICAgICBuZXdGb3JtID0gKCkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldy1mb3JtJyksXG4gICAgICBzdWJtaXRCdXR0b24gPSAoKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VibWl0Jyk7XG5cbmZ1bmN0aW9uIF9iaW5kQnV0dG9ucyhidXR0b25zLCBwdWJTdWJFdmVudCkge1xuICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICBjb25zdCBjbGVhcmVkQnV0dG9uID0gYnV0dG9uLmNsb25lTm9kZSh0cnVlKTtcbiAgICBidXR0b24ucmVwbGFjZVdpdGgoY2xlYXJlZEJ1dHRvbik7XG4gICAgY2xlYXJlZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gUHViU3ViLnB1Ymxpc2gocHViU3ViRXZlbnQoZS50YXJnZXQuZGF0YXNldC50eXBlKSwgZS50YXJnZXQuZGF0YXNldCkpO1xuICB9KTtcbn1cblxuUHViU3ViLnN1YnNjcmliZShWSUVXX1JFTkRFUkVELCBiaW5kQWN0aW9uQnV0dG9ucyk7XG5mdW5jdGlvbiBiaW5kQWN0aW9uQnV0dG9ucygpIHtcbiAgX2JpbmRCdXR0b25zKGluZGV4QnV0dG9ucygpLCBJTkRFWCk7XG4gIF9iaW5kQnV0dG9ucyhuZXdCdXR0b25zKCksIE5FVyk7XG4gIF9iaW5kQnV0dG9ucyhzaG93QnV0dG9ucygpLCBTSE9XKTtcbiAgX2JpbmRCdXR0b25zKGRlc3Ryb3lCdXR0b25zKCksIERFU1RST1kpO1xufVxuXG5QdWJTdWIuc3Vic2NyaWJlKEFOWV9ORVdfUkVOREVSRUQsIGJpbmROZXdFdmVudHMpO1xuZnVuY3Rpb24gYmluZE5ld0V2ZW50cygpIHtcbiAgYmFja0J1dHRvbigpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gUHViU3ViLnB1Ymxpc2goQkFDSykpO1xuICBzdWJtaXRCdXR0b24oKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBQdWJTdWIucHVibGlzaChDUkVBVEUobmV3Rm9ybSgpLmRhdGFzZXQudHlwZSksIE9iamVjdC5mcm9tRW50cmllcyhuZXcgRm9ybURhdGEobmV3Rm9ybSgpKSkpO1xuICB9KTtcbn1cbiIsImltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJztcbmltcG9ydCB7IENSRUFURSwgREVTVFJPWSwgVVBEQVRFLCBVUERBVEVfU1RBVFVTLCBVUERBVEVfUFJJT1JJVFksIFVQREFURV9CRUxPTkcsIFxuICAgICAgICAgVVBEQVRFRCwgQkVMT05HX1VQREFURUQsIExJU1RfVVBEQVRFRCB9IGZyb20gJy4vcHVic3ViLWV2ZW50LXR5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIFVwZGF0YWJsZShvYmopIHtcbiAgUHViU3ViLnN1YnNjcmliZShVUERBVEUob2JqLnR5cGUsIG9iai5pZCksIHVwZGF0ZSk7XG4gIGZ1bmN0aW9uIHVwZGF0ZShfLCBkYXRhKSB7XG4gICAgZm9yKGtleSBpbiBkYXRhKSBvYmpbYXR0cmlidXRlXSA9IGRhdGFbYXR0cmlidXRlXTtcbiAgICBQdWJTdWIucHVibGlzaChVUERBVEVEKG9iai50eXBlLCBvYmouaWQpKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3RhdHVzYWJsZShvYmopIHtcbiAgY29uc3Qgc3RhdHVzZXMgPSBbJ2luY29tcGxldGUnLCAnY29tcGxldGUnXTtcbiAgUHViU3ViLnN1YnNjcmliZShVUERBVEVfU1RBVFVTKG9iai50eXBlLCBvYmouaWQpLCBpbmNyZW1lbnRTdGF0dXMpXG4gIGZ1bmN0aW9uIGluY3JlbWVudFN0YXR1cygpIHtcbiAgICBvYmouc3RhdHVzID0gc3RhdHVzZXNbKHN0YXR1c2VzLmluZGV4T2Yob2JqLnN0YXR1cyApKyAxKSAlIHN0YXR1c2VzLmxlbmd0aF07XG4gICAgUHViU3ViLnB1Ymxpc2goVVBEQVRFRChvYmoudHlwZSwgb2JqLmlkKSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByaW9yaXRpemFibGUob2JqKSB7XG4gIGNvbnN0IHByaW9yaXRpZXMgPSBbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCddO1xuICBQdWJTdWIuc3Vic2NyaWJlKFVQREFURV9QUklPUklUWShvYmoudHlwZSwgb2JqLmlkKSwgdXBkYXRlUHJpb3JpdHkpXG4gIGZ1bmN0aW9uIHVwZGF0ZVByaW9yaXR5KF8sIGRhdGEpIHtcbiAgICBvYmoucHJpb3JpdHkgPSBwcmlvcml0aWVzW01hdGgubWF4KE1hdGgubWluKHByaW9yaXRpZXMuaW5kZXhPZihvYmoucHJpb3JpdHkpICsgZGF0YSwgMCksIHByaW9yaXRpZXMubGVuZ3RoIC0gMSldO1xuICAgIFB1YlN1Yi5wdWJsaXNoKFVQREFURUQob2JqLnR5cGUsIG9iai5pZCkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb2xsZWN0aW9uYWJsZShvYmosIGNvbGxlY3Rpb25UeXBlKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uVHlwZSArICdJZHMnO1xuICBvYmpbY29sbGVjdGlvbl0gfHw9IFtdO1xuXG4gIFB1YlN1Yi5zdWJzY3JpYmUoTElTVF9VUERBVEVEKGNvbGxlY3Rpb25UeXBlKSwgdXBkYXRlQ29sbGVjdGlvbkl0ZW1zKTtcbiAgZnVuY3Rpb24gdXBkYXRlQ29sbGVjdGlvbkl0ZW1zKF8sIGRhdGEpIHtcbiAgICBjb25zdCBuZXdDb2xsZWN0aW9uSXRlbXMgPSBkYXRhPy5bb2JqLnR5cGVdPy5bb2JqLmlkXTtcbiAgICBpZihuZXdDb2xsZWN0aW9uSXRlbXMpIG9ialtjb2xsZWN0aW9uXSA9IG5ld0NvbGxlY3Rpb25JdGVtcztcbiAgfVxufVxuXG4vL21heSBjaGFuZ2UgZGVwZW5kaW5nIG9uIHN0b3JhZ2VcbmV4cG9ydCBmdW5jdGlvbiBCZWxvbmdhYmxlKG9iaiwgYmVsb25nVHlwZSkge1xuICBvYmouYmVsb25ncyB8fD0geyBbYmVsb25nVHlwZV06IDAgfTtcbiAgLy9vYmouYmVsb25nc1tiZWxvbmdUeXBlXSA9IG9ialtiZWxvbmdUeXBlICsgJ0lkJ107XG4gIC8vZGVsZXRlIG9ialtiZWxvbmdUeXBlICsgJ0lkJ107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCZWxvbmdVcGRhdGFibGUob2JqLCBiZWxvbmdUeXBlKSB7XG4gIFB1YlN1Yi5zdWJzY3JpYmUoVVBEQVRFX0JFTE9ORyhvYmoudHlwZSwgb2JqLmlkLCBiZWxvbmdUeXBlKSwgdXBkYXRlQmVsb25nKTtcbiAgZnVuY3Rpb24gdXBkYXRlQmVsb25nKF8sIGRhdGEpIHtcbiAgICBjb25zdCBvbGRCZWxvbmdJZCA9IG9iai5iZWxvbmdzW2JlbG9uZ1R5cGVdLCBcbiAgICAgICAgICBuZXdCZWxvbmdJZCA9IGRhdGEuYmVsb25nSWQ7XG4gICAgb2JqLmJlbG9uZ3NbYmVsb25nVHlwZV0gPSBuZXdCZWxvbmdJZDtcbiAgICBQdWJTdWIucHVibGlzaChCRUxPTkdfVVBEQVRFRChvYmoudHlwZSksIHsgaWQ6IG9iai5pZCwgYmVsb25nVHlwZSwgb2xkQmVsb25nSWQsIG5ld0JlbG9uZ0lkIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaXN0YWJsZShvYmosIHJhd0l0ZW1MaXN0ID0gW10pIHtcbiAgbGV0IG5leHRJZCA9IDE7XG4gIGNvbnN0IGxpc3QgPSBvYmouaXRlbVR5cGUgKyAncyc7XG4gIG9ialtsaXN0XSB8fD0gcmF3SXRlbUxpc3QubWFwKHJhd0l0ZW0gPT4gb2JqLml0ZW1GYWN0b3J5KE9iamVjdC5hc3NpZ24oeyBpZDogbmV4dElkKysgfSwgcmF3SXRlbSkpKTtcblxuICBvYmoud2l0aElkID0gZnVuY3Rpb24oaWQpIHtcbiAgICByZXR1cm4gb2JqW2xpc3RdLmZpbmQoaXRlbSA9PiBpZCA9PSBpdGVtLmlkKTtcbiAgfVxuXG4gIG9iai53aXRoSWRzID0gZnVuY3Rpb24oaWRzKSB7XG4gICAgcmV0dXJuIG9ialtsaXN0XS5maWx0ZXIoaXRlbSA9PiBpZHMuaW5jbHVkZXMoaXRlbS5pZCkpO1xuICB9XG5cbiAgUHViU3ViLnN1YnNjcmliZShCRUxPTkdfVVBEQVRFRChvYmouaXRlbVR5cGUpLCB1cGRhdGVMaXN0QmVsb25ncyk7XG4gIGZ1bmN0aW9uIHVwZGF0ZUxpc3RCZWxvbmdzKF8sIGRhdGEpIHtcbiAgICBjb25zdCBiZWxvbmdUeXBlID0gZGF0YS5iZWxvbmdUeXBlLCBvbGRCZWxvbmdJZCA9IGRhdGEub2xkQmVsb25nSWQsIG5ld0JlbG9uZ0lkID0gZGF0YS5uZXdCZWxvbmdJZDtcbiAgICBjb25zdCBpdGVtID0gb2JqW2xpc3RdLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09IGRhdGEuaWQpO1xuICAgIGl0ZW0uYmVsb25nc1tiZWxvbmdUeXBlXSA9IG5ld0JlbG9uZ0lkO1xuICAgIFB1YlN1Yi5wdWJsaXNoKExJU1RfVVBEQVRFRChvYmouaXRlbVR5cGUpLCBcbiAgICAgICAgICAgICAgICAgIHsgW2JlbG9uZ1R5cGVdOiB7IFxuICAgICAgICAgICAgICAgICAgICAgIFtvbGRCZWxvbmdJZF06IG9ialtsaXN0XS5maWx0ZXIoaXRlbSA9PiBpdGVtLmJlbG9uZ3NbYmVsb25nVHlwZV0gPT0gb2xkQmVsb25nSWQpLm1hcChpdGVtID0+IGl0ZW0uaWQpLFxuICAgICAgICAgICAgICAgICAgICAgIFtuZXdCZWxvbmdJZF06IG9ialtsaXN0XS5maWx0ZXIoaXRlbSA9PiBpdGVtLmJlbG9uZ3NbYmVsb25nVHlwZV0gPT0gbmV3QmVsb25nSWQpLm1hcChpdGVtID0+IGl0ZW0uaWQpXG4gICAgICAgICAgICAgICAgICB9IH0pXG4gIH1cblxuICBQdWJTdWIuc3Vic2NyaWJlKENSRUFURShvYmouaXRlbVR5cGUpLCBjcmVhdGVMaXN0SXRlbSk7XG4gIGZ1bmN0aW9uIGNyZWF0ZUxpc3RJdGVtKF8sIGRhdGEpIHtcbiAgICBjb25zdCBuZXdMaXN0SXRlbSA9IG9iai5pdGVtRmFjdG9yeShPYmplY3QuYXNzaWduKHsgaWQ6IG5leHRJZCsrIH0sIGRhdGEpKTtcbiAgICBvYmpbbGlzdF0udW5zaGlmdChuZXdMaXN0SXRlbSk7XG4gICAgcHVibGlzaExpc3RVcGRhdGVkV2l0aEJlbG9uZ0RhdGEobmV3TGlzdEl0ZW0pO1xuICB9XG5cbiAgUHViU3ViLnN1YnNjcmliZShERVNUUk9ZKG9iai5pdGVtVHlwZSksIGRlc3Ryb3lMaXN0SXRlbSk7XG4gIGZ1bmN0aW9uIGRlc3Ryb3lMaXN0SXRlbShfLCBkYXRhKSB7XG4gICAgaWYoZGF0YS5pZCA9PSAwKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgaXRlbSA9IG9ialtsaXN0XS5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PSBkYXRhLmlkKTtcbiAgICBvYmpbbGlzdF0uc3BsaWNlKG9ialtsaXN0XS5pbmRleE9mKGl0ZW0pLCAxKTtcbiAgICBwdWJsaXNoTGlzdFVwZGF0ZWRXaXRoQmVsb25nRGF0YShpdGVtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1Ymxpc2hMaXN0VXBkYXRlZFdpdGhCZWxvbmdEYXRhKGl0ZW0pIHtcbiAgICBjb25zdCBiZWxvbmdEYXRhID0gT2JqZWN0LmVudHJpZXMoaXRlbS5iZWxvbmdzIHx8IHt9KS5yZWR1Y2UoKGRhdGEsIFtiZWxvbmdUeXBlLCBiZWxvbmdJZF0pID0+XG4gICAgICBPYmplY3QuYXNzaWduKGRhdGEsXG4gICAgICAgIHtcbiAgICAgICAgICBbYmVsb25nVHlwZV06IHtcbiAgICAgICAgICAgIFtiZWxvbmdJZF06IG9ialtsaXN0XS5maWx0ZXIoaXRlbSA9PiBpdGVtLmJlbG9uZ3NbYmVsb25nVHlwZV0gPT0gYmVsb25nSWQpXG4gICAgICAgICAgfVxuICAgICAgICB9KSwge30pO1xuICAgIFB1YlN1Yi5wdWJsaXNoKExJU1RfVVBEQVRFRChvYmouaXRlbVR5cGUpLCBiZWxvbmdEYXRhKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVXBkYXRhYmxlLCBDb2xsZWN0aW9uYWJsZSwgTGlzdGFibGUgfSBmcm9tICcuL2NvbXBvc2l0aW9uLXVuaXRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIFByb2plY3QoYXR0cmlidXRlcykge1xuICBjb25zdCBvYmogPSBPYmplY3QuYXNzaWduKHsgdHlwZTogJ3Byb2plY3QnIH0sIGF0dHJpYnV0ZXMpO1xuICBVcGRhdGFibGUob2JqKTtcbiAgQ29sbGVjdGlvbmFibGUob2JqLCAndG9kb0l0ZW0nKTtcblxuICByZXR1cm4gb2JqO1xufVxuXG4vL21heSBjaGFuZ2UgZGVwZW5kaW5nIG9uIHN0b3JhZ2UgZGF0YSBmb3JtYXRcbmV4cG9ydCBmdW5jdGlvbiBQcm9qZWN0c0xpc3QocmF3SXRlbUxpc3QpIHtcbiAgY29uc3Qgb2JqID0geyBpdGVtRmFjdG9yeTogUHJvamVjdCwgaXRlbVR5cGU6ICdwcm9qZWN0JyB9XG4gIExpc3RhYmxlKG9iaiwgcmF3SXRlbUxpc3QpO1xuICByZXR1cm4gb2JqO1xufVxuIiwiaW1wb3J0IHsgVXBkYXRhYmxlLCBTdGF0dXNhYmxlLCBQcmlvcml0aXphYmxlLCBDb2xsZWN0aW9uYWJsZSwgQmVsb25nYWJsZSwgTGlzdGFibGUsIEJlbG9uZ1VwZGF0YWJsZSB9IGZyb20gJy4vY29tcG9zaXRpb24tdW5pdHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gVG9kb0l0ZW0oYXR0cmlidXRlcykge1xuICBjb25zdCBvYmogPSBPYmplY3QuYXNzaWduKHsgdHlwZTogJ3RvZG9JdGVtJyB9LCBhdHRyaWJ1dGVzKTtcbiAgW1VwZGF0YWJsZSwgU3RhdHVzYWJsZSwgUHJpb3JpdGl6YWJsZV0uZm9yRWFjaChjb21wRm4gPT4gY29tcEZuKG9iaikpO1xuICBbQmVsb25nYWJsZSwgQmVsb25nVXBkYXRhYmxlXS5mb3JFYWNoKGNvbXBGbiA9PiBjb21wRm4ob2JqLCAncHJvamVjdCcpKTtcbiAgQ29sbGVjdGlvbmFibGUob2JqLCAnY2hlY2tsaXN0SXRlbScpO1xuXG4gIHJldHVybiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUb2RvSXRlbXNMaXN0KHJhd0l0ZW1MaXN0KSB7XG4gIGNvbnN0IG9iaiA9IHsgaXRlbUZhY3Rvcnk6IFRvZG9JdGVtLCBpdGVtVHlwZTogJ3RvZG9JdGVtJyB9O1xuICBMaXN0YWJsZShvYmosIHJhd0l0ZW1MaXN0KTtcbiAgcmV0dXJuIG9iajtcbn1cbiIsImltcG9ydCB7IFVwZGF0YWJsZSwgU3RhdHVzYWJsZSwgQmVsb25nYWJsZSwgTGlzdGFibGUgfSBmcm9tICcuL2NvbXBvc2l0aW9uLXVuaXRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIENoZWNrbGlzdEl0ZW0oYXR0cmlidXRlcykge1xuICBjb25zdCBvYmogPSBPYmplY3QuYXNzaWduKHsgdHlwZTogJ2NoZWNrbGlzdEl0ZW0nIH0sIGF0dHJpYnV0ZXMpO1xuICBbVXBkYXRhYmxlLCBTdGF0dXNhYmxlXS5mb3JFYWNoKGNvbXBGbiA9PiBjb21wRm4ob2JqKSk7XG4gIEJlbG9uZ2FibGUob2JqLCAndG9kb0l0ZW0nKTtcblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hlY2tsaXN0SXRlbXNMaXN0KHJhd0l0ZW1MaXN0KSB7XG4gIGNvbnN0IG9iaiA9IHsgaXRlbUZhY3Rvcnk6IENoZWNrbGlzdEl0ZW0sIGl0ZW1UeXBlOiAnY2hlY2tsaXN0SXRlbScgfTtcbiAgTGlzdGFibGUob2JqLCByYXdJdGVtTGlzdCk7XG4gIHJldHVybiBvYmo7XG59XG4iLCJpbXBvcnQgJy4vc3RvcmFnZSc7XG5pbXBvcnQgJy4vdmlld3Mvdmlld3MnO1xuaW1wb3J0ICcuL2RvbS1ldmVudHMnO1xuaW1wb3J0ICcuL3Byb2plY3RzJztcbmltcG9ydCAnLi90b2RvLWl0ZW1zJztcbmltcG9ydCAnLi9jaGVja2xpc3QtaXRlbXMnO1xuXG5pbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XG5pbXBvcnQgeyBJTklUSUFMSVpFLCBEQVRBX0lOSVRJQUxJWkVELCBBTllfVVBEQVRFRCB9IGZyb20gJy4vcHVic3ViLWV2ZW50LXR5cGVzJztcblxuaW1wb3J0IHsgUHJvamVjdHNMaXN0IH0gZnJvbSAnLi9wcm9qZWN0cyc7XG5pbXBvcnQgeyBUb2RvSXRlbXNMaXN0IH0gZnJvbSAnLi90b2RvLWl0ZW1zJztcbmltcG9ydCB7IENoZWNrbGlzdEl0ZW1zTGlzdCB9IGZyb20gJy4vY2hlY2tsaXN0LWl0ZW1zJztcbmNvbnN0IGFwcGxpY2F0aW9uRGF0YUxpc3RzID0geyBQcm9qZWN0c0xpc3QsIFRvZG9JdGVtc0xpc3QsIENoZWNrbGlzdEl0ZW1zTGlzdCB9O1xuXG5leHBvcnQgbGV0IGFwcGxpY2F0aW9uRGF0YSA9IHt9O1xuXG5mdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICBQdWJTdWIucHVibGlzaChJTklUSUFMSVpFKTtcbn1cblxuUHViU3ViLnN1YnNjcmliZShEQVRBX0lOSVRJQUxJWkVELCBwb3B1bGF0ZURhdGEpO1xuZnVuY3Rpb24gcG9wdWxhdGVEYXRhKF8sIGRhdGEpIHtcbiAgZm9yKGNvbnN0IGtleSBpbiBkYXRhKVxuICAgIGFwcGxpY2F0aW9uRGF0YVtrZXldID0gYXBwbGljYXRpb25EYXRhTGlzdHNba2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSldKGRhdGFba2V5XSk7XG4gIFB1YlN1Yi5wdWJsaXNoKEFOWV9VUERBVEVEKTtcbn1cblxuaW5pdGlhbGl6ZSgpO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiUHViU3ViIiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlcyIsImxhc3RVaWQiLCJjYWxsU3Vic2NyaWJlcldpdGhEZWxheWVkRXhjZXB0aW9ucyIsInN1YnNjcmliZXIiLCJtZXNzYWdlIiwiZGF0YSIsImV4Iiwic2V0VGltZW91dCIsInRocm93RXhjZXB0aW9uIiwiY2FsbFN1YnNjcmliZXJXaXRoSW1tZWRpYXRlRXhjZXB0aW9ucyIsImRlbGl2ZXJNZXNzYWdlIiwib3JpZ2luYWxNZXNzYWdlIiwibWF0Y2hlZE1lc3NhZ2UiLCJpbW1lZGlhdGVFeGNlcHRpb25zIiwicyIsInN1YnNjcmliZXJzIiwiY2FsbFN1YnNjcmliZXIiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJoYXNEaXJlY3RTdWJzY3JpYmVyc0ZvciIsInRvcGljIiwiU3RyaW5nIiwiQm9vbGVhbiIsIm9iaiIsImtleSIsImhhc0tleXMiLCJwdWJsaXNoIiwic3luYyIsImRlbGl2ZXIiLCJwb3NpdGlvbiIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwiY3JlYXRlRGVsaXZlcnlGdW5jdGlvbiIsInRvU3RyaW5nIiwiZm91bmQiLCJtZXNzYWdlSGFzU3Vic2NyaWJlcnMiLCJwdWJsaXNoU3luYyIsInN1YnNjcmliZSIsImZ1bmMiLCJ0b2tlbiIsInN1YnNjcmliZUFsbCIsInN1YnNjcmliZU9uY2UiLCJ1bnN1YnNjcmliZSIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImNsZWFyQWxsU3Vic2NyaXB0aW9ucyIsImNsZWFyU3Vic2NyaXB0aW9ucyIsIm0iLCJpbmRleE9mIiwiY291bnRTdWJzY3JpcHRpb25zIiwiY291bnQiLCJnZXRTdWJzY3JpcHRpb25zIiwibGlzdCIsInB1c2giLCJ2YWx1ZSIsInQiLCJpc1RvcGljIiwiZGVzY2VuZGFudFRvcGljRXhpc3RzIiwiaXNUb2tlbiIsImlzRnVuY3Rpb24iLCJyZXN1bHQiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJleHBvcnRzIiwid2luZG93IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIm5tZCIsInBhdGhzIiwiY2hpbGRyZW4iLCJJTklUSUFMSVpFIiwiREFUQV9JTklUSUFMSVpFRCIsIkJBQ0siLCJJTkRFWCIsInR5cGUiLCJORVciLCJDUkVBVEUiLCJTSE9XIiwiREVTVFJPWSIsIkFOWV9VUERBVEVEIiwiVVBEQVRFRCIsIkJFTE9OR19VUERBVEVEIiwiTElTVF9VUERBVEVEIiwiUEFHRV9SRU5ERVJFRCIsImdldERhdGEiLCJzYXZlRGF0YSIsImluZGV4UHJvamVjdHNWaWV3IiwiZG9jdW1lbnQiLCJib2R5IiwiaW5uZXJIVE1MIiwiaGVhZGluZ0VsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYnlsaW5lRWxlbWVudCIsIm5ld1RvZG9JdGVtQnV0dG9uIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRhc2V0IiwicHJvamVjdElkIiwiYXBwZW5kIiwiX3JlbmRlckludHJvIiwicHJvamVjdHNIZWFkaW5nRWxlbWVudCIsInByb2plY3RzSGVhZGluZ1RleHRFbGVtZW50IiwibmV3UHJvamVjdEJ1dHRvbiIsIl9yZW5kZXJQcm9qZWN0c0hlYWRpbmciLCJwcm9qZWN0IiwicHJvamVjdEVsZW1lbnQiLCJzaG93QnV0dG9uIiwiZGVzdHJveUJ1dHRvbiIsInByZXZpZXdFbGVtZW50IiwiZm9yRWFjaCIsImJ1dHRvbiIsInRpdGxlIiwidG9kb0l0ZW1JZHMiLCJzbGljZSIsInRvZG9JdGVtIiwidG9kb0l0ZW1FbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJnZXREYXRhRm4iLCJzdG9yYWdlRGF0YSIsInByb2plY3RzTGlzdCIsInRvZG9JdGVtc0xpc3QiLCJwcmlvcml0eSIsInN0YXR1cyIsImR1ZURhdGUiLCJEYXRlIiwiY2hlY2tsaXN0SXRlbXNMaXN0IiwiaW5pdGlhbGl6ZURhdGFGbiIsInNhdmVEYXRhRm4iLCJhZGRQcm9qZWN0QnV0dG9uIiwicXVlcnlTZWxlY3RvciIsImJhY2tCdXR0b24iLCJwcm9qZWN0Rm9ybUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwic2hvd1Byb2plY3RWaWV3IiwiXyIsImxvZyIsImluZGV4QnV0dG9uIiwiZWRpdEJ1dHRvbiIsImVkaXRUaXRsZUJ1dHRvbiIsImR1ZURhdGVFbGVtZW50IiwiX3JlbmRlclRvZG9JdGVtcyIsImJpbmQiLCJjdXJyUGFnZVZpZXciLCJ1cGRhdGVWaWV3IiwidmlldyIsIm5ld0Zvcm0iLCJfYmluZEJ1dHRvbnMiLCJidXR0b25zIiwicHViU3ViRXZlbnQiLCJjbGVhcmVkQnV0dG9uIiwiY2xvbmVOb2RlIiwicmVwbGFjZVdpdGgiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsIlVwZGF0YWJsZSIsImF0dHJpYnV0ZSIsIlN0YXR1c2FibGUiLCJzdGF0dXNlcyIsImxlbmd0aCIsIlByaW9yaXRpemFibGUiLCJwcmlvcml0aWVzIiwiTWF0aCIsIm1heCIsIm1pbiIsIkNvbGxlY3Rpb25hYmxlIiwiY29sbGVjdGlvblR5cGUiLCJjb2xsZWN0aW9uIiwibmV3Q29sbGVjdGlvbkl0ZW1zIiwiQmVsb25nYWJsZSIsImJlbG9uZ1R5cGUiLCJiZWxvbmdzIiwiQmVsb25nVXBkYXRhYmxlIiwiVVBEQVRFX0JFTE9ORyIsIm9sZEJlbG9uZ0lkIiwibmV3QmVsb25nSWQiLCJiZWxvbmdJZCIsIkxpc3RhYmxlIiwicmF3SXRlbUxpc3QiLCJuZXh0SWQiLCJpdGVtVHlwZSIsInB1Ymxpc2hMaXN0VXBkYXRlZFdpdGhCZWxvbmdEYXRhIiwiaXRlbSIsImJlbG9uZ0RhdGEiLCJlbnRyaWVzIiwicmVkdWNlIiwiYXNzaWduIiwiZmlsdGVyIiwibWFwIiwicmF3SXRlbSIsIml0ZW1GYWN0b3J5Iiwid2l0aElkIiwiZmluZCIsIndpdGhJZHMiLCJpZHMiLCJpbmNsdWRlcyIsIm5ld0xpc3RJdGVtIiwidW5zaGlmdCIsInNwbGljZSIsIlByb2plY3QiLCJhdHRyaWJ1dGVzIiwiVG9kb0l0ZW0iLCJjb21wRm4iLCJDaGVja2xpc3RJdGVtIiwicXVlcnlTZWxlY3RvckFsbCIsInByZXZlbnREZWZhdWx0IiwiZnJvbUVudHJpZXMiLCJGb3JtRGF0YSIsImFwcGxpY2F0aW9uRGF0YUxpc3RzIiwiUHJvamVjdHNMaXN0IiwiYXBwbGljYXRpb25EYXRhIiwidG9VcHBlckNhc2UiXSwic291cmNlUm9vdCI6IiJ9